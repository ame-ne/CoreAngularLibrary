{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/api/models.ts","webpack:///src/app/api/models/attachment-type.ts","webpack:///src/app/api/models/order-status.ts","webpack:///src/app/api/models/role.ts","webpack:///src/app/api/services.ts","webpack:///src/app/api/services/attachments.service.ts","webpack:///src/app/api/services/authentication.service.ts","webpack:///src/app/api/services/authors.service.ts","webpack:///src/app/api/services/books.service.ts","webpack:///src/app/api/services/genres.service.ts","webpack:///src/app/api/services/orders.service.ts","webpack:///src/app/api/services/users.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/authentication/login/login.component.ts","webpack:///src/app/authentication/login/login.component.html","webpack:///src/app/authentication/registration/registration.component.ts","webpack:///src/app/authentication/registration/registration.component.html","webpack:///src/app/authors/author-edit/author-edit.component.ts","webpack:///src/app/authors/author-edit/author-edit.component.html","webpack:///src/app/authors/authors-list/authors-list.component.ts","webpack:///src/app/authors/authors-list/authors-list.component.html","webpack:///src/app/books/book-edit/book-edit.component.html","webpack:///src/app/books/book-edit/book-edit.component.ts","webpack:///src/app/books/book-page/book-page.component.html","webpack:///src/app/books/book-page/book-page.component.ts","webpack:///src/app/books/books-list/books-list.component.ts","webpack:///src/app/books/books-list/books-list.component.html","webpack:///src/app/exceptions/forbid/forbid.component.ts","webpack:///src/app/exceptions/forbid/forbid.component.html","webpack:///src/app/exceptions/not-found/not-found.component.ts","webpack:///src/app/exceptions/not-found/not-found.component.html","webpack:///src/app/genres/genre-edit/genre-edit.component.ts","webpack:///src/app/genres/genre-edit/genre-edit.component.html","webpack:///src/app/genres/genres-list/genres-list.component.ts","webpack:///src/app/genres/genres-list/genres-list.component.html","webpack:///src/app/infrastructure/app-routes.module.ts","webpack:///src/app/infrastructure/auth.guard.ts","webpack:///src/app/infrastructure/interceptors/error.interceptor.ts","webpack:///src/app/infrastructure/interceptors/jwt.interceptor.ts","webpack:///src/app/infrastructure/pipes/date.pipe.ts","webpack:///src/app/infrastructure/pipes/image.pipe.ts","webpack:///src/app/infrastructure/pipes/order.pipe.ts","webpack:///src/app/infrastructure/pipes/role.pipe.ts","webpack:///src/app/infrastructure/pipes/search.pipe.ts","webpack:///src/app/infrastructure/services/cart.service.ts","webpack:///src/app/infrastructure/services/modal.service.ts","webpack:///src/app/items/carousel/carousel.component.html","webpack:///src/app/items/carousel/carousel.component.ts","webpack:///src/app/items/file-uploader/file-uploader.component.html","webpack:///src/app/items/file-uploader/file-uploader.component.ts","webpack:///src/app/items/modal/modal.component.ts","webpack:///src/app/items/modal/modal.component.html","webpack:///src/app/items/pagination/pagination.component.ts","webpack:///src/app/items/pagination/pagination.component.html","webpack:///src/app/items/tagbox/tagbox.component.ts","webpack:///src/app/items/tagbox/tagbox.component.html","webpack:///src/app/menu/user-menu/user-menu.component.ts","webpack:///src/app/menu/user-menu/user-menu.component.html","webpack:///src/app/orders/cart/cart.component.ts","webpack:///src/app/orders/cart/cart.component.html","webpack:///src/app/orders/orders-list/orders-list.component.html","webpack:///src/app/orders/orders-list/orders-list.component.ts","webpack:///src/app/orders/user-orders/user-orders.component.ts","webpack:///src/app/orders/user-orders/user-orders.component.html","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","webpackContextKeys","Object","AttachmentType","OrderStatus","Role","AttachmentsService","http","baseUrl","file","formData","FormData","append","post","get","responseType","blobId","getBlob","toPromise","blob","createImageFromBlob","pipe","res","image","reader","FileReader","fileReaderObs","create","observer","onload","next","result","complete","readAsDataURL","providedIn","AuthenticationService","url","currentUserSubject","JSON","parse","localStorage","getItem","currentUser","asObservable","request","headers","stringify","response","token","setItem","removeItem","roles","value","AuthorsService","author","put","BooksService","book","GenresService","genre","OrdersService","userId","ids","orders","UsersService","AppComponent","authService","currentUserValue","selector","templateUrl","AppModule","provide","useClass","multi","imports","declarations","providers","bootstrap","LoginComponent","router","authenticationService","form","valid","authenticate","login","password","subscribe","navigateByUrl","styleUrls","RegistrationComponent","registration","AuthorEditComponent","authorsService","activatedRoute","snapshot","params","isNew","getAuthor","action","createAuthor","updateAuthor","save","AuthorsListComponent","authors","loadAuthors","getAuthors","confirm","deleteAuthor","BookEditComponent","booksService","genresService","genres","getBook","count","attachments","getGenres","key","filter","x","selectedAuthors","authorsTagBox","getSelectedItems","selectedGenres","genresTagBox","title","bookAuthors","authorId","bookId","bookGenres","genreId","coverFileInput","uploadedBlobs","length","isMain","name","fileName","type","BookAttachment","isPreview","push","pagesFileInput","createBook","updateBook","data","BookPageComponent","cartService","attachService","modalService","bookResult","fio","join","sort","a","b","pageExampleBlobIds","coverAttach","find","getImageUrl","coverUrl","addToCart","open","BooksListComponent","searchText","pageSize","loadBooks","getBooks","bookItem","booksCount","goToPage","alert","deleteBook","page","displayBooks","applySearchFilter","slice","searchStr","toLowerCase","item","includes","ForbidComponent","NotFoundComponent","GenreEditComponent","getGenre","createGenre","updateGenre","GenresListComponent","loadGenres","deleteGenre","appRoutes","path","component","pathMatch","canActivate","Administrator","Storekeeper","redirectTo","Librarian","AppRoutesModule","forRoot","AuthGuard","route","state","checkAccess","ErrorInterceptor","handle","err","handleError","indexOf","status","logout","message","error","innerException","undefined","exceptionMessage","errorText","console","log","JwtInterceptor","isLoggedIn","isApiUrl","startsWith","clone","setHeaders","Authorization","FormatDate","date","format","SafeImagePipe","_sanitizer","bypassSecurityTrustResourceUrl","OrderStatusTitle","Waiting","Accepted","Returned","RoleTitle","Reader","IsAdmin","user","role","IsStorekeeper","IsLibrarian","SearchFilter","items","CartService","books","index","splice","ModalService","modals","modalState","modalStateObservable$","modal","close","CarouselComponent","currentIndex","imageData","modalStateSubscription","loadImage","unsubscribe","checkIndex","currentImageData","isLoaded","currentImage","blobIds","FileUploaderComponent","attachmentsService","mode","event","selectedFiles","target","files","i","upload","idx","uploadBlob","uploadedId","fileUploader","nativeElement","ModalComponent","elRef","onOpen","onClose","element","document","body","appendChild","addEventListener","className","add","remove","classList","style","display","emit","PaginationComponent","pagesArray","currentPage","pageNumber","totalPages","Math","ceil","Array","fill","TagboxComponent","selectedItems","keyField","displayField","preSelectedKeyField","itemKey","selectedItem","addItem","preSelected","some","onSelectItem","UserMenuComponent","CartComponent","ordersService","getItems","removeFromCart","placeOrders","clearCart","OrderAction","OrdersListComponent","None","actionName","routeParams","CreateOrder","CloseOrder","ExtendOrder","getOrders","getList","order","addOrders","closeOrders","extendOrdersDate","UserOrdersComponent","getUserOrders","returnOrders","platform","bootstrapModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,eAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,eAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,cAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA,SAJM,CAAP;AAKA;;AACDL,8BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAR,8BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,YAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,8BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;ACZA,UAAIC,GAAG,GAAG;AACT,gBAAQ,oCADC;AAET,mBAAW,oCAFF;AAGT,gBAAQ,oCAHC;AAIT,mBAAW,uCAJF;AAKT,sBAAc,uCALL;AAMT,mBAAW,uCANF;AAOT,sBAAc,uCAPL;AAQT,mBAAW,uCARF;AAST,sBAAc,uCATL;AAUT,mBAAW,uCAVF;AAWT,sBAAc,uCAXL;AAYT,mBAAW,uCAZF;AAaT,sBAAc,uCAbL;AAcT,mBAAW,uCAdF;AAeT,sBAAc,uCAfL;AAgBT,mBAAW,oCAhBF;AAiBT,gBAAQ,oCAjBC;AAkBT,mBAAW,oCAlBF;AAmBT,gBAAQ,oCAnBC;AAoBT,mBAAW,oCApBF;AAqBT,gBAAQ,oCArBC;AAsBT,mBAAW,oCAtBF;AAuBT,gBAAQ,oCAvBC;AAwBT,mBAAW,oCAxBF;AAyBT,gBAAQ,oCAzBC;AA0BT,mBAAW,oCA1BF;AA2BT,gBAAQ,oCA3BC;AA4BT,mBAAW,oCA5BF;AA6BT,gBAAQ,oCA7BC;AA8BT,mBAAW,oCA9BF;AA+BT,gBAAQ,oCA/BC;AAgCT,mBAAW,oCAhCF;AAiCT,gBAAQ,oCAjCC;AAkCT,mBAAW,oCAlCF;AAmCT,gBAAQ,oCAnCC;AAoCT,mBAAW,oCApCF;AAqCT,gBAAQ,oCArCC;AAsCT,mBAAW,oCAtCF;AAuCT,gBAAQ,oCAvCC;AAwCT,mBAAW,oCAxCF;AAyCT,gBAAQ,oCAzCC;AA0CT,mBAAW,oCA1CF;AA2CT,gBAAQ,oCA3CC;AA4CT,mBAAW,uCA5CF;AA6CT,sBAAc,uCA7CL;AA8CT,mBAAW,uCA9CF;AA+CT,sBAAc,uCA/CL;AAgDT,mBAAW,oCAhDF;AAiDT,gBAAQ,oCAjDC;AAkDT,mBAAW,oCAlDF;AAmDT,gBAAQ,oCAnDC;AAoDT,mBAAW,oCApDF;AAqDT,mBAAW,uCArDF;AAsDT,sBAAc,uCAtDL;AAuDT,mBAAW,uCAvDF;AAwDT,sBAAc,uCAxDL;AAyDT,mBAAW,uCAzDF;AA0DT,sBAAc,uCA1DL;AA2DT,mBAAW,uCA3DF;AA4DT,sBAAc,uCA5DL;AA6DT,mBAAW,uCA7DF;AA8DT,sBAAc,uCA9DL;AA+DT,mBAAW,uCA/DF;AAgET,sBAAc,uCAhEL;AAiET,mBAAW,uCAjEF;AAkET,sBAAc,uCAlEL;AAmET,mBAAW,uCAnEF;AAoET,sBAAc,uCApEL;AAqET,gBAAQ,oCArEC;AAsET,mBAAW,oCAtEF;AAuET,gBAAQ,oCAvEC;AAwET,mBAAW,uCAxEF;AAyET,sBAAc,uCAzEL;AA0ET,mBAAW,uCA1EF;AA2ET,sBAAc,uCA3EL;AA4ET,mBAAW,oCA5EF;AA6ET,gBAAQ,oCA7EC;AA8ET,mBAAW,oCA9EF;AA+ET,gBAAQ,oCA/EC;AAgFT,mBAAW,oCAhFF;AAiFT,gBAAQ,oCAjFC;AAkFT,mBAAW,oCAlFF;AAmFT,gBAAQ,oCAnFC;AAoFT,mBAAW,oCApFF;AAqFT,iBAAS,qCArFA;AAsFT,oBAAY,qCAtFH;AAuFT,gBAAQ,oCAvFC;AAwFT,mBAAW,oCAxFF;AAyFT,gBAAQ,oCAzFC;AA0FT,mBAAW,uCA1FF;AA2FT,sBAAc,uCA3FL;AA4FT,mBAAW,uCA5FF;AA6FT,sBAAc,uCA7FL;AA8FT,mBAAW,oCA9FF;AA+FT,gBAAQ,oCA/FC;AAgGT,mBAAW,oCAhGF;AAiGT,gBAAQ,oCAjGC;AAkGT,mBAAW,oCAlGF;AAmGT,gBAAQ,oCAnGC;AAoGT,mBAAW,oCApGF;AAqGT,gBAAQ,oCArGC;AAsGT,mBAAW,oCAtGF;AAuGT,sBAAc,0CAvGL;AAwGT,yBAAiB,0CAxGR;AAyGT,sBAAc,0CAzGL;AA0GT,yBAAiB,0CA1GR;AA2GT,gBAAQ,oCA3GC;AA4GT,mBAAW,oCA5GF;AA6GT,gBAAQ,oCA7GC;AA8GT,mBAAW,oCA9GF;AA+GT,gBAAQ,oCA/GC;AAgHT,mBAAW,oCAhHF;AAiHT,gBAAQ,oCAjHC;AAkHT,mBAAW,oCAlHF;AAmHT,gBAAQ,oCAnHC;AAoHT,mBAAW,oCApHF;AAqHT,mBAAW,uCArHF;AAsHT,sBAAc,uCAtHL;AAuHT,gBAAQ,oCAvHC;AAwHT,mBAAW,oCAxHF;AAyHT,gBAAQ,oCAzHC;AA0HT,mBAAW,oCA1HF;AA2HT,gBAAQ,oCA3HC;AA4HT,mBAAW,uCA5HF;AA6HT,sBAAc,uCA7HL;AA8HT,mBAAW,oCA9HF;AA+HT,gBAAQ,oCA/HC;AAgIT,mBAAW,oCAhIF;AAiIT,gBAAQ,oCAjIC;AAkIT,mBAAW,oCAlIF;AAmIT,gBAAQ,oCAnIC;AAoIT,mBAAW,oCApIF;AAqIT,gBAAQ,oCArIC;AAsIT,mBAAW,oCAtIF;AAuIT,gBAAQ,oCAvIC;AAwIT,mBAAW,oCAxIF;AAyIT,gBAAQ,oCAzIC;AA0IT,mBAAW,oCA1IF;AA2IT,gBAAQ,oCA3IC;AA4IT,mBAAW,oCA5IF;AA6IT,gBAAQ,oCA7IC;AA8IT,mBAAW,oCA9IF;AA+IT,gBAAQ,oCA/IC;AAgJT,mBAAW,oCAhJF;AAiJT,gBAAQ,oCAjJC;AAkJT,mBAAW,oCAlJF;AAmJT,gBAAQ,oCAnJC;AAoJT,mBAAW,oCApJF;AAqJT,gBAAQ,oCArJC;AAsJT,mBAAW,oCAtJF;AAuJT,gBAAQ,oCAvJC;AAwJT,mBAAW,oCAxJF;AAyJT,gBAAQ,oCAzJC;AA0JT,mBAAW,oCA1JF;AA2JT,gBAAQ,oCA3JC;AA4JT,mBAAW,oCA5JF;AA6JT,gBAAQ,oCA7JC;AA8JT,mBAAW,oCA9JF;AA+JT,gBAAQ,oCA/JC;AAgKT,mBAAW,oCAhKF;AAiKT,gBAAQ,oCAjKC;AAkKT,mBAAW,oCAlKF;AAmKT,gBAAQ,oCAnKC;AAoKT,mBAAW,oCApKF;AAqKT,gBAAQ,oCArKC;AAsKT,mBAAW,uCAtKF;AAuKT,sBAAc,uCAvKL;AAwKT,mBAAW,oCAxKF;AAyKT,gBAAQ,oCAzKC;AA0KT,mBAAW,oCA1KF;AA2KT,gBAAQ,oCA3KC;AA4KT,mBAAW,oCA5KF;AA6KT,gBAAQ,oCA7KC;AA8KT,mBAAW,oCA9KF;AA+KT,gBAAQ,oCA/KC;AAgLT,mBAAW,oCAhLF;AAiLT,gBAAQ,oCAjLC;AAkLT,mBAAW,uCAlLF;AAmLT,sBAAc,uCAnLL;AAoLT,mBAAW,oCApLF;AAqLT,gBAAQ,oCArLC;AAsLT,mBAAW,oCAtLF;AAuLT,oBAAY,wCAvLH;AAwLT,uBAAe,wCAxLN;AAyLT,mBAAW,uCAzLF;AA0LT,sBAAc,uCA1LL;AA2LT,gBAAQ,oCA3LC;AA4LT,mBAAW,oCA5LF;AA6LT,gBAAQ,oCA7LC;AA8LT,mBAAW,uCA9LF;AA+LT,sBAAc,uCA/LL;AAgMT,mBAAW,oCAhMF;AAiMT,gBAAQ,oCAjMC;AAkMT,mBAAW,oCAlMF;AAmMT,gBAAQ,oCAnMC;AAoMT,mBAAW,oCApMF;AAqMT,gBAAQ,oCArMC;AAsMT,mBAAW,oCAtMF;AAuMT,gBAAQ,oCAvMC;AAwMT,mBAAW,oCAxMF;AAyMT,gBAAQ,oCAzMC;AA0MT,mBAAW,oCA1MF;AA2MT,gBAAQ,oCA3MC;AA4MT,mBAAW,oCA5MF;AA6MT,gBAAQ,oCA7MC;AA8MT,mBAAW,oCA9MF;AA+MT,gBAAQ,oCA/MC;AAgNT,mBAAW,oCAhNF;AAiNT,gBAAQ,oCAjNC;AAkNT,qBAAa,yCAlNJ;AAmNT,wBAAgB,yCAnNP;AAoNT,mBAAW,oCApNF;AAqNT,gBAAQ,oCArNC;AAsNT,mBAAW,oCAtNF;AAuNT,gBAAQ,oCAvNC;AAwNT,mBAAW,oCAxNF;AAyNT,gBAAQ,oCAzNC;AA0NT,mBAAW,oCA1NF;AA2NT,gBAAQ,oCA3NC;AA4NT,mBAAW,oCA5NF;AA6NT,gBAAQ,oCA7NC;AA8NT,mBAAW,oCA9NF;AA+NT,iBAAS,qCA/NA;AAgOT,oBAAY,qCAhOH;AAiOT,gBAAQ,oCAjOC;AAkOT,mBAAW,oCAlOF;AAmOT,gBAAQ,oCAnOC;AAoOT,mBAAW,oCApOF;AAqOT,gBAAQ,oCArOC;AAsOT,mBAAW,oCAtOF;AAuOT,mBAAW,uCAvOF;AAwOT,sBAAc,uCAxOL;AAyOT,iBAAS,qCAzOA;AA0OT,oBAAY,qCA1OH;AA2OT,gBAAQ,oCA3OC;AA4OT,mBAAW,oCA5OF;AA6OT,iBAAS,qCA7OA;AA8OT,oBAAY,qCA9OH;AA+OT,iBAAS,qCA/OA;AAgPT,sBAAc,0CAhPL;AAiPT,yBAAiB,0CAjPR;AAkPT,oBAAY,qCAlPH;AAmPT,mBAAW,uCAnPF;AAoPT,sBAAc,uCApPL;AAqPT,gBAAQ,oCArPC;AAsPT,mBAAW,oCAtPF;AAuPT,gBAAQ,oCAvPC;AAwPT,mBAAW,oCAxPF;AAyPT,gBAAQ,oCAzPC;AA0PT,qBAAa,yCA1PJ;AA2PT,wBAAgB,yCA3PP;AA4PT,mBAAW,oCA5PF;AA6PT,gBAAQ,oCA7PC;AA8PT,mBAAW,oCA9PF;AA+PT,sBAAc,0CA/PL;AAgQT,yBAAiB,0CAhQR;AAiQT,gBAAQ,oCAjQC;AAkQT,mBAAW,oCAlQF;AAmQT,mBAAW,uCAnQF;AAoQT,sBAAc,uCApQL;AAqQT,mBAAW,uCArQF;AAsQT,sBAAc,uCAtQL;AAuQT,mBAAW,uCAvQF;AAwQT,sBAAc,uCAxQL;AAyQT,mBAAW,uCAzQF;AA0QT,sBAAc;AA1QL,OAAV;;AA8QA,eAASC,cAAT,CAAwBZ,GAAxB,EAA6B;AAC5B,YAAIU,EAAE,GAAGG,qBAAqB,CAACb,GAAD,CAA9B;AACA,eAAOc,mBAAmB,CAACJ,EAAD,CAA1B;AACA;;AACD,eAASG,qBAAT,CAA+Bb,GAA/B,EAAoC;AACnC,YAAG,CAACc,mBAAmB,CAACC,CAApB,CAAsBJ,GAAtB,EAA2BX,GAA3B,CAAJ,EAAqC;AACpC,cAAII,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA;;AACD,eAAOO,GAAG,CAACX,GAAD,CAAV;AACA;;AACDY,oBAAc,CAACL,IAAf,GAAsB,SAASS,kBAAT,GAA8B;AACnD,eAAOC,MAAM,CAACV,IAAP,CAAYI,GAAZ,CAAP;AACA,OAFD;;AAGAC,oBAAc,CAACV,OAAf,GAAyBW,qBAAzB;AACAL,YAAM,CAACC,OAAP,GAAiBG,cAAjB;AACAA,oBAAc,CAACF,EAAf,GAAoB,wDAApB;;;;;;;;;;;;;;;;AC9RA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACDA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYQ,cAAZ;;AAAA,iBAAYA,cAAZ,EAA0B;AACtB;AACA;AACH,OAHD,EAAYA,cAAc,KAAdA,cAAc,MAA1B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,WAAZ;;AAAA,iBAAYA,WAAZ,EAAuB;AACnB;AACA;AACA;AACH,OAJD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,IAAZ;;AAAA,iBAAYA,IAAZ,EAAgB;AACZ;AACA;AACA;AACA;AACH,OALD,EAAYA,IAAI,KAAJA,IAAI,MAAhB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCQaC,kB;AAGT,oCAAoBC,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAAC,OAAA,GAAU,iBAAV;AAEiC;;;;qCAE9BC,I,EAAU;AACjB,gBAAMC,QAAQ,GAAa,IAAIC,QAAJ,EAA3B;AACAD,oBAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAxB;AACA,mBAAO,KAAKF,IAAL,CAAUM,IAAV,WAA0B,KAAKL,OAA/B,cAAiDE,QAAjD,CAAP;AACH;;;kCAEOf,E,EAAU;AACd,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAiB,KAAKN,OAAtB,cAAiCb,EAAjC,GAAuC;AAAEoB,0BAAY,EAAE;AAAhB,aAAvC,CAAP;AACH;;;sCAEiBC,M,EAAc;;;;;;;;AACf,6BAAM,KAAKC,OAAL,CAAaD,MAAb,EAAqBE,SAArB,EAAN;;;AAAPC,0B;uDACC,KAAKC,mBAAL,CAAyBD,IAAzB,EAA+BE,IAA/B,CAAoC,2DAAI,UAAAC,GAAG;AAAA,+BAAIA,GAAJ;AAAA,uBAAP,CAApC,EAA+DJ,SAA/D,E;;;;;;;;;AACV;;;8CAE2BK,K,EAAW;AACnC,gBAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACA,gBAAMC,aAAa,GAAqC,gDAAWC,MAAX,CAAkB,UAACC,QAAD,EAAqD;AAC3HJ,oBAAM,CAACK,MAAP,GAAgB,YAAY;AACxBD,wBAAQ,CAACE,IAAT,CAAcN,MAAM,CAACO,MAArB;AACAH,wBAAQ,CAACI,QAAT;AACH,eAHD;AAIH,aALuD,CAAxD;;AAMA,gBAAIT,KAAJ,EAAW;AACPC,oBAAM,CAACS,aAAP,CAAqBV,KAArB;AACH;;AACD,mBAAOG,aAAP;AACH;;;;;;;yBAhCQpB,kB,EAAkB,uH;AAAA,O;;;eAAlBA,kB;AAAkB,iBAAlBA,kBAAkB,K;AAAA,oBAFf;;;;;wEAEHA,kB,EAAkB;gBAH9B,wDAG8B;iBAHnB;AACR4B,sBAAU,EAAE;AADJ,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;;ACR/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaC,qB;AAST,uCAAoB5B,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AARZ,eAAA6B,GAAA,GAAM,UAAN;AASJ,eAAKC,kBAAL,GAA0B,IAAI,6EAAJ,CAAkCC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAAlC,CAA1B;AACA,eAAKC,WAAL,GAAmB,KAAKL,kBAAL,CAAwBM,YAAxB,EAAnB;AACH;;;;uCAEYC,O,EAA4B;AAAA;;AACrC,gBAAIC,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CACFM,IADE,CACG,KAAKuB,GAAL,GAAW,eADd,EAC+BE,IAAI,CAACQ,SAAL,CAAeF,OAAf,CAD/B,EACwD;AAAEC,qBAAO,EAAPA;AAAF,aADxD,EAEFxB,IAFE,CAEG,2DAAI,UAAC0B,QAAD,EAA4B;AAClC,kBAAIA,QAAQ,IAAIA,QAAQ,CAACC,KAAzB,EAAgC;AAC5BR,4BAAY,CAACS,OAAb,CAAqB,aAArB,EAAoCX,IAAI,CAACQ,SAAL,CAAeC,QAAf,CAApC;;AACA,qBAAI,CAACV,kBAAL,CAAwBP,IAAxB,CAA6BiB,QAA7B;AACH;;AACD,qBAAOA,QAAP;AACH,aANK,CAFH,CAAP;AASH;;;uCAEYH,O,EAA4B;AAAA;;AACrC,gBAAIC,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CACFM,IADE,CACG,KAAKuB,GAAL,GAAW,eADd,EAC+BE,IAAI,CAACQ,SAAL,CAAeF,OAAf,CAD/B,EACwD;AAAEC,qBAAO,EAAPA;AAAF,aADxD,EAEFxB,IAFE,CAEG,2DAAI,UAAC0B,QAAD,EAA4B;AAClC,kBAAIA,QAAQ,IAAIA,QAAQ,CAACC,KAAzB,EAAgC;AAC5BR,4BAAY,CAACS,OAAb,CAAqB,aAArB,EAAoCX,IAAI,CAACQ,SAAL,CAAeC,QAAf,CAApC;;AACA,sBAAI,CAACV,kBAAL,CAAwBP,IAAxB,CAA6BiB,QAA7B;AACH;;AACD,qBAAOA,QAAP;AACH,aANK,CAFH,CAAP;AASH;;;mCAEK;AACFP,wBAAY,CAACU,UAAb,CAAwB,aAAxB;AACA,iBAAKb,kBAAL,CAAwBP,IAAxB,CAA6B,IAA7B;AACH;;;sCAEWqB,K,EAAa;AACrB,gBAAIN,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,CAAwB,KAAKuB,GAAL,GAAW,cAAnC,EAAmDE,IAAI,CAACQ,SAAL,CAAeK,KAAf,CAAnD,EAA0E;AAAEN,qBAAO,EAAPA;AAAF,aAA1E,CAAP;AACH;;;8BA9C0B;AACvB,mBAAO,KAAKR,kBAAL,CAAwBe,KAA/B;AACH;;;;;;;yBAPQjB,qB,EAAqB,uH;AAAA,O;;;eAArBA,qB;AAAqB,iBAArBA,qBAAqB,K;AAAA,oBADR;;;;;wEACbA,qB,EAAqB;gBADjC,wDACiC;iBADtB;AAAED,sBAAU,EAAE;AAAd,W;AACsB,U;;;;;;;;;;;;;;;;;;;;;;ACRlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMamB,c;AAGT,gCAAoB9C,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAA6B,GAAA,GAAM,aAAN;AAGP;;;;uCAES;AACN,mBAAO,KAAK7B,IAAL,CAAUO,GAAV,CAAwB,KAAKsB,GAA7B,CAAP;AACH;;;oCAESzC,E,EAAU;AAChB,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAyB,KAAKsB,GAA9B,cAAqCzC,EAArC,EAAP;AACH;;;uCAEY2D,M,EAAgB;AACzB,mBAAO,KAAK/C,IAAL,CAAUM,IAAV,CAAe,KAAKuB,GAApB,EAAyBkB,MAAzB,CAAP;AACH;;;uCAEYA,M,EAAgB;AACzB,mBAAO,KAAK/C,IAAL,CAAUgD,GAAV,CAAc,KAAKnB,GAAnB,EAAwBkB,MAAxB,CAAP;AACH;;;uCAEY3D,E,EAAY;AACrB,mBAAO,KAAKY,IAAL,qBAAoB,KAAK6B,GAAzB,cAAgCzC,EAAhC,EAAP;AACH;;;;;;;yBAxBQ0D,c,EAAc,uH;AAAA,O;;;eAAdA,c;AAAc,iBAAdA,cAAc,K;AAAA,oBADD;;;;;wEACbA,c,EAAc;gBAD1B,wDAC0B;iBADf;AAAEnB,sBAAU,EAAE;AAAd,W;AACe,U;;;;;;;;;;;;;;;;;;;;;;ACN3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMasB,Y;AAGT,8BAAoBjD,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAA6B,GAAA,GAAM,WAAN;AAGP;;;;qCAEO;AACJ,mBAAO,KAAK7B,IAAL,CAAUO,GAAV,CAAsB,KAAKsB,GAA3B,CAAP;AACH;;;kCAEOzC,E,EAAU;AACd,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAuB,KAAKsB,GAA5B,cAAmCzC,EAAnC,EAAP;AACH;;;qCAEU8D,I,EAAU;AACjB,mBAAO,KAAKlD,IAAL,CAAUM,IAAV,CAAuB,KAAKuB,GAA5B,EAAiCqB,IAAjC,CAAP;AACH;;;qCAEUA,I,EAAY;AACnB,mBAAO,KAAKlD,IAAL,CAAUgD,GAAV,CAAc,KAAKnB,GAAnB,EAAwBqB,IAAxB,CAAP;AACH;;;qCAEU9D,E,EAAY;AACnB,mBAAO,KAAKY,IAAL,qBAAoB,KAAK6B,GAAzB,cAAgCzC,EAAhC,EAAP;AACH;;;;;;;yBAxBQ6D,Y,EAAY,uH;AAAA,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBADC;;;;;wEACbA,Y,EAAY;gBADxB,wDACwB;iBADb;AAAEtB,sBAAU,EAAE;AAAd,W;AACa,U;;;;;;;;;;;;;;;;;;;;;;ACNzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMawB,a;AAGT,+BAAoBnD,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAA6B,GAAA,GAAM,YAAN;AAGP;;;;sCAEQ;AACL,mBAAO,KAAK7B,IAAL,CAAUO,GAAV,CAAuB,KAAKsB,GAA5B,CAAP;AACH;;;mCAEQzC,E,EAAU;AACf,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAwB,KAAKsB,GAA7B,cAAoCzC,EAApC,EAAP;AACH;;;sCAEWgE,K,EAAc;AACtB,mBAAO,KAAKpD,IAAL,CAAUM,IAAV,CAAe,KAAKuB,GAApB,EAAyBuB,KAAzB,CAAP;AACH;;;sCAEWA,K,EAAc;AACtB,mBAAO,KAAKpD,IAAL,CAAUgD,GAAV,CAAc,KAAKnB,GAAnB,EAAwBuB,KAAxB,CAAP;AACH;;;sCAEWhE,E,EAAY;AACpB,mBAAO,KAAKY,IAAL,qBAAoB,KAAK6B,GAAzB,cAAgCzC,EAAhC,EAAP;AACH;;;;;;;yBAxBQ+D,a,EAAa,uH;AAAA,O;;;eAAbA,a;AAAa,iBAAbA,aAAa,K;AAAA,oBADA;;;;;wEACbA,a,EAAa;gBADzB,wDACyB;iBADd;AAAExB,sBAAU,EAAE;AAAd,W;AACc,U;;;;;;;;;;;;;;;;;;;;;;ACN1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMa0B,a;AAGT,+BAAoBrD,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAA6B,GAAA,GAAM,YAAN;AAGP;;;;oCAEM;AACH,mBAAO,KAAK7B,IAAL,CAAUO,GAAV,WAA0B,KAAKsB,GAA/B,WAAP;AACH;;;wCAEayB,M,EAAc;AACxB,mBAAO,KAAKtD,IAAL,CAAUO,GAAV,WAA0B,KAAKsB,GAA/B,0BAAkDyB,MAAlD,EAAP;AACH;;;8BAEGlE,E,EAAU;AACV,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAwB,KAAKsB,GAA7B,cAAoCzC,EAApC,EAAP;AACH;;;sCAEWmE,G,EAAe;AACvB,gBAAIjB,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,WAAkB,KAAKuB,GAAvB,oBAA2CE,IAAI,CAACQ,SAAL,CAAegB,GAAf,CAA3C,EAAgE;AAAEjB,qBAAO,EAAPA;AAAF,aAAhE,CAAP;AACH;;;2CAEgBiB,G,EAAe;AAC5B,gBAAIjB,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,WAAkB,KAAKuB,GAAvB,qBAA4CE,IAAI,CAACQ,SAAL,CAAegB,GAAf,CAA5C,EAAiE;AAAEjB,qBAAO,EAAPA;AAAF,aAAjE,CAAP;AACH;;;oCAESiB,G,EAAe;AACrB,gBAAIjB,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,WAAkB,KAAKuB,GAAvB,kBAAyCE,IAAI,CAACQ,SAAL,CAAegB,GAAf,CAAzC,EAA8D;AAAEjB,qBAAO,EAAPA;AAAF,aAA9D,CAAP;AACH;;;sCAEWkB,M,EAAiB;AACzB,gBAAIlB,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,WAAkB,KAAKuB,GAAvB,oBAA2CE,IAAI,CAACQ,SAAL,CAAeiB,MAAf,CAA3C,EAAmE;AAAElB,qBAAO,EAAPA;AAAF,aAAnE,CAAP;AACH;;;uCAEYgB,M,EAAgBC,G,EAAe;AACxC,gBAAIjB,OAAO,GAAG,IAAI,gEAAJ,EAAd;AACAA,mBAAO,GAAGA,OAAO,CAACjC,MAAR,CAAe,cAAf,EAA+B,kBAA/B,CAAV;AACA,mBAAO,KAAKL,IAAL,CAAUM,IAAV,WAAkB,KAAKuB,GAAvB,4BAA4CyB,MAA5C,GAAsDvB,IAAI,CAACQ,SAAL,CAAegB,GAAf,CAAtD,EAA2E;AAAEjB,qBAAO,EAAPA;AAAF,aAA3E,CAAP;AACH;;;;;;;yBA9CQe,a,EAAa,uH;AAAA,O;;;eAAbA,a;AAAa,iBAAbA,aAAa,K;AAAA,oBADA;;;;;wEACbA,a,EAAa;gBADzB,wDACyB;iBADd;AAAE1B,sBAAU,EAAE;AAAd,W;AACc,U;;;;;;;;;;;;;;;;;;;;;;ACN1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMa8B,Y;AAGT,8BAAoBzD,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAFZ,eAAA6B,GAAA,GAAM,WAAN;AAGP;;;;mCAEK;AACF,mBAAO,KAAK7B,IAAL,CAAUO,GAAV,WAAyB,KAAKsB,GAA9B,EAAP;AACH;;;kCAEOzC,E,EAAU;AACd,mBAAO,KAAKY,IAAL,CAAUO,GAAV,WAAuB,KAAKsB,GAA5B,cAAmCzC,EAAnC,EAAP;AACH;;;;;;;yBAZQqE,Y,EAAY,uH;AAAA,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBADC;;;;;wEACbA,Y,EAAY;gBADxB,wDACwB;iBADb;AAAE9B,sBAAU,EAAE;AAAd,W;AACa,U;;;;;;;;;;;;;;;;;;;;;;ACNzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACOgB;;AACqE;;AAAM;;;;;;AAG3E;;AACqE;;AAAK;;;;UDJ7E+B,Y;AAMT,8BAAoBC,WAApB,EAAwD;AAAA;;AAApC,eAAAA,WAAA,GAAAA,WAAA;AAAuC;;;;8BAJrC;AAClB,mBAAO,KAAKA,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,gBAArC,GAAwD,KAAKD,WAAL,CAAiBC,gBAAzE,GAA4F,IAAnG;AACH;;;;;;;yBAJQF,Y,EAAY,oI;AAAA,O;;;cAAZA,Y;AAAY,4B;AAAA,iB;AAAA,gB;AAAA,6f;AAAA;AAAA;ACRzB;;AACI;;AACI;;AACI;;AACI;;AAAmC;;AAAO;;AAC9C;;AACA;;AACI;;;;;;AAEJ;;AACA;;AACI;;;;;;AAEJ;;AACJ;;AACA;;AACI;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AACJ;;;;AAdoB;;AAAA;;AAIA;;AAAA;;;;;;;;;;wEDJPA,Y,EAAY;gBAJxB,uDAIwB;iBAJd;AACPG,oBAAQ,EAAE,KADH;AAEPC,uBAAW,EAAE;AAFN,W;AAIc,U;;;;;;;;;;;;;;;;;;;;;;AERzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAM+E;;UAuElEC,S;;;;;cAAAA,S;AAAS,oBAFN,2DAEM;;;;2BAATA,S;AAAS,S;AAAA,mBANP,CACP;AAAEC,iBAAO,EAAE,sEAAX;AAA8BC,kBAAQ,EAAE,gGAAxC;AAA0DC,eAAK,EAAE;AAAjE,SADO,EAEP;AAAEF,iBAAO,EAAE,sEAAX;AAA8BC,kBAAQ,EAAE,4FAAxC;AAAwDC,eAAK,EAAE;AAA/D,SAFO,C;AAGV,kBAxCQ,CACL,uEADK,EAEL,0DAFK,EAGL,qEAHK,EAIL,kFAJK,CAwCR;;;;4HAGQH,S,EAAS;AAAA,yBApCd,2DAoCc,EAnCd,yFAmCc,EAlCd,2FAkCc,EAjCd,oFAiCc,EAhCd,yGAgCc,EA/Bd,qFA+Bc,EA9Bd,8FA8Bc,EA7Bd,0EA6Bc,EA5Bd,wEA4Bc,EA3Bd,8EA2Bc,EA1Bd,4EA0Bc,EAzBd,kFAyBc,EAxBd,2EAwBc,EAvBd,+EAuBc,EAtBd,+EAsBc,EArBd,0EAqBc,EApBd,uFAoBc,EAnBd,uFAmBc,EAlBd,8FAkBc,EAjBd,kGAiBc,EAhBd,+FAgBc,EAfd,8FAec,EAdd,2FAcc,EAbd,+EAac,EAZd,qFAYc,EAXd,mGAWc,EAVd,oFAUc,EATd,4EASc,EARd,2FAQc;AARK,oBAlCnB,uEAkCmB,EAjCnB,0DAiCmB,EAhCnB,qEAgCmB,EA/BnB,kFA+BmB;AAQL,S;AAvCC,O;;;;;wEAuCVA,S,EAAS;gBA5CrB,sDA4CqB;iBA5CZ;AACNI,mBAAO,EAAE,CACL,uEADK,EAEL,0DAFK,EAGL,qEAHK,EAIL,kFAJK,CADH;AAONC,wBAAY,EAAE,CACV,2DADU,EAEV,yFAFU,EAGV,2FAHU,EAIV,oFAJU,EAKV,yGALU,EAMV,qFANU,EAOV,8FAPU,EAQV,0EARU,EASV,wEATU,EAUV,8EAVU,EAWV,4EAXU,EAYV,kFAZU,EAaV,2EAbU,EAcV,+EAdU,EAeV,+EAfU,EAgBV,0EAhBU,EAiBV,uFAjBU,EAkBV,uFAlBU,EAmBV,8FAnBU,EAoBV,kGApBU,EAqBV,+FArBU,EAsBV,8FAtBU,EAuBV,2FAvBU,EAwBV,+EAxBU,EAyBV,qFAzBU,EA0BV,mGA1BU,EA2BV,oFA3BU,EA4BV,4EA5BU,EA6BV,2FA7BU,CAPR;AAsCNC,qBAAS,EAAE,CACP;AAAEL,qBAAO,EAAE,sEAAX;AAA8BC,sBAAQ,EAAE,gGAAxC;AAA0DC,mBAAK,EAAE;AAAjE,aADO,EAEP;AAAEF,qBAAO,EAAE,sEAAX;AAA8BC,sBAAQ,EAAE,4FAAxC;AAAwDC,mBAAK,EAAE;AAA/D,aAFO,CAtCL;AA0CNI,qBAAS,EAAE,CAAC,2DAAD;AA1CL,W;AA4CY,U;;;;;;;;;;;;;;;;;;AC7EtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACMgB;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;UDNHC,c;AAIX,gCAAoBC,MAApB,EACUC,qBADV,EACwD;AAAA;;AADpC,eAAAD,MAAA,GAAAA,MAAA;AACV,eAAAC,qBAAA,GAAAA,qBAAA;AAAiD;;;;qCAEnD,CACP;;;uCAEYC,I,EAAc;AAAA;;AACzB,gBAAIA,IAAI,CAACC,KAAT,EAAgB;AACd,mBAAKF,qBAAL,CAA2BG,YAA3B,CAAwC;AAAEC,qBAAK,EAAE,KAAKA,KAAd;AAAqBC,wBAAQ,EAAE,KAAKA;AAApC,eAAxC,EAAwFC,SAAxF,CAAkG,YAAM;AACtG,sBAAI,CAACP,MAAL,CAAYQ,aAAZ,CAA0B,GAA1B;AACD,eAFD;AAGD;AACF;;;;;;;yBAhBUT,c,EAAc,uH,EAAA,oI;AAAA,O;;;cAAdA,c;AAAc,8B;AAAA,iB;AAAA,e;AAAA,uf;AAAA;AAAA;;;ACV3B;;AACI;;AACI;;AAAgC;AAAA;;AAAA;;AAAA,qBAAY,IAAAK,YAAA,KAAZ;AAA8B,aAA9B;;AAC5B;;AACI;;AAAO;;AAAK;;AACZ;;AAAyC;AAAA;AAAA;;AAAzC;;AACA;;AAGJ;;AACA;;AACI;;AAAO;;AAAM;;AACb;;AAA4D;AAAA;AAAA;;AAA5D;;AAEA;;AAGJ;;AACA;;AACI;;AAAwF;;AAAI;;AAChG;;AACJ;;AACJ;;AACJ;;;;;;;;;;AAlByD;;AAAA;;AAChB;;AAAA;;AAMmC;;AAAA;;AAEnC;;AAAA;;AAKO;;AAAA;;;;;;;;;wEDTnCL,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACTV,oBAAQ,EAAE,OADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTmB,qBAAS,EAAE,CAAC,uBAAD;AAHF,W;AAKgB,U;;;;;;;;;;;;;;;;;;;;;;;;AEV3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACOgB;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;;;AAKA;;AACI;;AACJ;;;;;;AAMA;;AACI;;AACJ;;;;UD9BHC,qB;AAGX,uCAAoBT,qBAApB,EAA0ED,MAA1E,EAA0F;AAAA;;AAAtE,eAAAC,qBAAA,GAAAA,qBAAA;AAAsD,eAAAD,MAAA,GAAAA,MAAA;AAF1E,eAAAnC,OAAA,GAA+B,EAA/B;AAE6F;;;;qCAErF,CACP;;;uCAEYA,O,EAAS;AAAA;;AAClB,iBAAKoC,qBAAL,CAA2BU,YAA3B,CAAwC9C,OAAxC,EAAiD0C,SAAjD,CAA2D,YAAM;AAC/D,oBAAI,CAACP,MAAL,CAAYQ,aAAZ,CAA0B,GAA1B;AACD,aAFD;AAGH;;;;;;;yBAZUE,qB,EAAqB,2I,EAAA,uH;AAAA,O;;;cAArBA,qB;AAAqB,qC;AAAA,iB;AAAA,gB;AAAA,01B;AAAA;AAAA;ACVlC;;AACI;;AACI;;AAAgC;AAAA,qBAAY,IAAAC,YAAA,aAAZ;AAAiC,aAAjC;;AAC5B;;AACI;;AAAO;;AAAO;;AACd;;AAA4C;AAAA;AAAA;;AAA5C;;AAEA;;AAGJ;;AACA;;AACI;;AAAO;;AAAG;;AACV;;AAA6C;AAAA;AAAA;;AAA7C;;AAEA;;AAGJ;;AACA;;AACI;;AAAO;;AAAK;;AACZ;;AAAsD;AAAA;AAAA;;AAAtD;;AAEA;;AAGJ;;AACA;;AACI;;AAAO;;AAAK;;AACZ;;AAAyC;AAAA;AAAA;;AAAzC;;AACA;;AAGJ;;AACA;;AACI;;AAAO;;AAAM;;AACb;;AAA4D;AAAA;AAAA;;AAA5D;;AAEA;;AAGJ;;AACA;;AACI;;AACkB;;AAAkB;;AACxC;;AACJ;;AACJ;;AACJ;;;;;;;;;;;;;;;;AA3C4D;;AAAA;;AAEnB;;AAAA;;AAMoB;;AAAA;;AAEpB;;AAAA;;AAM6B;;AAAA;;AAE7B;;AAAA;;AAMgB;;AAAA;;AAChB;;AAAA;;AAMmC;;AAAA;;AAEnC;;AAAA;;AAKO;;AAAA;;;;;;;;;wEDjCnCD,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACTrB,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTmB,qBAAS,EAAE,CAAC,8BAAD;AAHF,W;AAKuB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEArBG,mB;AAKX,qCAAoBC,cAApB,EACUb,MADV,EAEUc,cAFV,EAE0C;AAAA;;AAFtB,eAAAD,cAAA,GAAAA,cAAA;AACV,eAAAb,MAAA,GAAAA,MAAA;AACA,eAAAc,cAAA,GAAAA,cAAA;AAJV,eAAAvC,MAAA,GAAiB,EAAjB;AAKE,eAAK3D,EAAL,GAAUkG,cAAc,CAACC,QAAf,CAAwBC,MAAxB,CAA+B,IAA/B,CAAV;AACA,eAAKC,KAAL,GAAa,CAAC,KAAKrG,EAAnB;AACD;;;;qCAEgB;;;;;;0BACA,KAAKqG,K;;;;;;AAChB,6BAAM,KAAKJ,cAAL,CAAoBK,SAApB,CAA8B,KAAKtG,EAAnC,EAAuCuB,SAAvC,EAAN;;;;;;;;qCACA,E;;;AAFJ,2BAAKoC,M;;;;;;;;;AAGN;;;iCAEY;;;;;;;;;AAEX,0BAAI,KAAK0C,KAAT,EAAgB;AACdE,8BAAM,GAAG,KAAKN,cAAL,CAAoBO,YAApB,CAAiC,KAAK7C,MAAtC,EAA8CpC,SAA9C,EAAT;AACD,uBAFD,MAEO;AACLgF,8BAAM,GAAG,KAAKN,cAAL,CAAoBQ,YAApB,CAAiC,KAAK9C,MAAtC,EAA8CpC,SAA9C,EAAT;AACD;;;AACD,6BAAMgF,MAAM,CAAC9G,IAAP,CAAY,YAAM;AACtB,8BAAI,CAAC2F,MAAL,CAAYQ,aAAZ,CAA0B,UAA1B;AACD,uBAFK,CAAN;;;;;;;;;AAGD;;;;;;;yBA5BUI,mB,EAAmB,oI,EAAA,uH,EAAA,+H;AAAA,O;;;cAAnBA,mB;AAAmB,oC;AAAA,iB;AAAA,e;AAAA,mT;AAAA;AAAA;ACVhC;;AAAI;;AAA2C;;AAC/C;;AAAgC;AAAA,qBAAY,IAAAU,IAAA,EAAZ;AAAkB,aAAlB;;AAC5B;;AACI;;AAAO;;AAAG;;AACV;;AAAuC;AAAA;AAAA;;AAAvC;;AACJ;;AACA;;AAAwD;;AAAS;;AACjE;;AAAgF;;AAAM;;AAC1F;;;;AARI;;AAAA;;AAI2C;;AAAA;;;;;;;;;wEDMlCV,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACTvB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTmB,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEVhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACWY;;AACI;;AAAI;;AAAU;;AACd;;AAAI;;AAA6E;;AAAa;;AAC1F;;AAA0C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoB;;AAAO;;AAAS;;AACtF;;;;;;AAHQ;;AAAA;;AACqC;;AAAA;;;;UDJ5Cc,oB;AAGX,sCAAoBV,cAApB,EAAoD;AAAA;;AAAhC,eAAAA,cAAA,GAAAA,cAAA;AAFpB,eAAAW,OAAA,GAAoB,EAApB;AAEuD;;;;qCAE/C;AACN,iBAAKC,WAAL;AACD;;;wCAEa;AAAA;;AACZ,iBAAKZ,cAAL,CAAoBa,UAApB,GAAiCnB,SAAjC,CAA2C,UAACiB,OAAD,EAAa;AACtD,oBAAI,CAACA,OAAL,GAAeA,OAAf;AACD,aAFD;AAGD;;;kCAEMjD,M,EAAgB;AAAA;;AACrB,gBAAIoD,OAAO,CAAC,iBAAD,CAAX,EAAgC;AAC9B,mBAAKd,cAAL,CAAoBe,YAApB,CAAiCrD,MAAM,CAAC3D,EAAxC,EAA4C2F,SAA5C,CAAsD,YAAM;AAC1D,sBAAI,CAACkB,WAAL;AACD,eAFD;AAGD;AACF;;;;;;;yBArBUF,oB,EAAoB,oI;AAAA,O;;;cAApBA,oB;AAAoB,qC;AAAA,iB;AAAA,e;AAAA,uO;AAAA;AAAA;ACTjC;;AACI;;AAAI;;AAAc;;AAClB;;AAA2D;;AAAQ;;AACnE;;AACI;;AACI;;AACI;;AAAI;;AAAG;;AACP;;AACJ;;AACJ;;AACA;;AACI;;AAKJ;;AACJ;;AACJ;;;;AAhB+B;;AAAA;;AASf;;AAAA;;;;;;;;;wEDFHA,oB,EAAoB;gBALhC,uDAKgC;iBALtB;AACTlC,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTmB,qBAAS,EAAE,CAAC,8BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEc3B;;AACE;;AACE;;AAAM;;AAAyC;;AAC/C;;AAAM;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAgE;;AAAE;;AAC1E;;AACF;;;;;;AAHU;;AAAA;;;;;;AALd;;AACE;;AAAO;;AAAkB;;AACzB;;AACE;;AAMF;;AACF;;;;;;AAPS;;AAAA;;;;UCXEoB,iB;AAYX,mCAAoBC,YAApB,EACUjB,cADV,EAEUkB,aAFV,EAGU/B,MAHV,EAIUc,cAJV,EAI0C;AAAA;;AAJtB,eAAAgB,YAAA,GAAAA,YAAA;AACV,eAAAjB,cAAA,GAAAA,cAAA;AACA,eAAAkB,aAAA,GAAAA,aAAA;AACA,eAAA/B,MAAA,GAAAA,MAAA;AACA,eAAAc,cAAA,GAAAA,cAAA;AAbV,eAAApC,IAAA,GAAa,EAAb;AACA,eAAA8C,OAAA,GAAoB,EAApB;AACA,eAAAQ,MAAA,GAAkB,EAAlB;AAYE,eAAKpH,EAAL,GAAUkG,cAAc,CAACC,QAAf,CAAwBC,MAAxB,CAA+B,IAA/B,CAAV;AACA,eAAKC,KAAL,GAAa,CAAC,KAAKrG,EAAnB;AACD;;;;qCAEgB;;;;;;0BACF,KAAKqG,K;;;;;;AACd,6BAAM,KAAKa,YAAL,CAAkBG,OAAlB,CAA0B,KAAKrH,EAA/B,EAAmCuB,SAAnC,EAAN;;;;;;;;qCACA;AAAE+F,6BAAK,EAAE,CAAT;AAAYC,mCAAW,EAAE;AAAzB,uB;;;AAFJ,2BAAKzD,I;;AAGU,6BAAM,KAAKmC,cAAL,CAAoBa,UAApB,GAAiCvF,SAAjC,EAAN;;;AAAf,2BAAKqF,O;;AACS,6BAAM,KAAKO,aAAL,CAAmBK,SAAnB,GAA+BjG,SAA/B,EAAN;;;AAAd,2BAAK6F,M;;;;;;;;;AACN;;;2CAEgBK,G,EAAK;AACpB,iBAAK3D,IAAL,CAAUyD,WAAV,GAAwB,KAAKzD,IAAL,CAAUyD,WAAV,CAAsBG,MAAtB,CAA6B,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC3H,EAAF,IAAQyH,GAAZ;AAAA,aAA9B,CAAxB;AACD;;;iCAEY;;;;;;;;;;AAELG,qC,GAA4B,KAAKC,aAAL,CAAmBC,gBAAnB,E;AAC5BC,oC,GAA0B,KAAKC,YAAL,CAAkBF,gBAAlB,E;AAC1BhE,0B,GAAa;AACjB9D,0BAAE,EAAE,CAAC,KAAKqG,KAAN,GAAc,KAAKvC,IAAL,CAAU9D,EAAxB,GAA6B,CADhB;AAEjBiI,6BAAK,EAAE,KAAKnE,IAAL,CAAUmE,KAFA;AAGjBX,6BAAK,EAAE,KAAKxD,IAAL,CAAUwD,KAHA;AAIjBY,mCAAW,EAAEN,eAAe,CAAC3H,GAAhB,CAAoB,UAAA0H,CAAC;AAAA,iCAAgB;AAAEQ,oCAAQ,EAAER,CAAC,CAAC3H,EAAd;AAAkBoI,kCAAM,EAAE,MAAI,CAACtE,IAAL,CAAU9D;AAApC,2BAAhB;AAAA,yBAArB,CAJI;AAKjBqI,kCAAU,EAAEN,cAAc,CAAC9H,GAAf,CAAmB,UAAA0H,CAAC;AAAA,iCAAe;AAAEW,mCAAO,EAAEX,CAAC,CAAC3H,EAAb;AAAiBoI,kCAAM,EAAE,MAAI,CAACtE,IAAL,CAAU9D;AAAnC,2BAAf;AAAA,yBAApB,CALK;AAMjBuH,mCAAW,EAAE,KAAKzD,IAAL,CAAUyD;AANN,uB;;AASnB,0BAAI,KAAKgB,cAAL,CAAoBC,aAApB,IAAqC,KAAKD,cAAL,CAAoBC,aAApB,CAAkCC,MAAlC,GAA2C,CAApF,EAAuF;AACrF3E,4BAAI,CAACyD,WAAL,CAAiBtH,GAAjB,CAAqB,UAAA0H,CAAC;AAAA,iCAAIA,CAAC,CAACe,MAAF,GAAW,KAAf;AAAA,yBAAtB;AACD;;AAEKnB,iC,GAAc,KAAKgB,cAAL,CAAoBC,aAApB,CAAkCvI,GAAlC,CAAsC,UAAA0H,CAAC;AAAA,+BAAgB;AACzEgB,8BAAI,EAAEhB,CAAC,CAACiB,QADiE;AAEzEC,8BAAI,EAAE,kEAAeC,cAFoD;AAGzEJ,gCAAM,EAAE,IAHiE;AAIzEK,mCAAS,EAAE,KAJ8D;AAKzE1H,gCAAM,EAAEsG,CAAC,CAACtG;AAL+D,yBAAhB;AAAA,uBAAvC,C;AAOpBkG,iCAAW,CAACyB,IAAZ,OAAAzB,WAAW,qBAAS,KAAK0B,cAAL,CAAoBT,aAApB,CAAkCvI,GAAlC,CAAsC,UAAA0H,CAAC;AAAA,+BAAgB;AACzEgB,8BAAI,EAAEhB,CAAC,CAACiB,QADiE;AAEzEC,8BAAI,EAAE,kEAAeC,cAFoD;AAGzEJ,gCAAM,EAAE,KAHiE;AAIzEK,mCAAS,EAAE,KAJ8D;AAKzE1H,gCAAM,EAAEsG,CAAC,CAACtG;AAL+D,yBAAhB;AAAA,uBAAvC,CAAT,EAAX;;AAQA,2CAAAyC,IAAI,CAACyD,WAAL,EAAiByB,IAAjB,6CAAyBzB,WAAzB;;AAEA,0BAAI,KAAKlB,KAAT,EAAgB;AACdE,8BAAM,GAAG,KAAKW,YAAL,CAAkBgC,UAAlB,CAA6BpF,IAA7B,EAAmCvC,SAAnC,EAAT;AACD,uBAFD,MAEO;AACLgF,8BAAM,GAAG,KAAKW,YAAL,CAAkBiC,UAAlB,CAA6BrF,IAA7B,EAAmCvC,SAAnC,EAAT;AACD;;;AACD,6BAAMgF,MAAM,CAAC9G,IAAP,CAAY,UAAC2J,IAAD,EAAU;AAC1B,4BAAMpJ,EAAE,GAAG,MAAI,CAACqG,KAAL,IAAc+C,IAAd,GAAqBA,IAArB,GAA4B,MAAI,CAACpJ,EAA5C;;AACA,8BAAI,CAACoF,MAAL,CAAYQ,aAAZ,iBAAmC5F,EAAnC;AACD,uBAHK,CAAN;;;;;;;;;AAID;;;;;;;yBA5EUiH,iB,EAAiB,kI,EAAA,oI,EAAA,mI,EAAA,uH,EAAA,+H;AAAA,O;;;cAAjBA,iB;AAAiB,kC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ADZ9B;;AAAI;;AAA2C;;AAC/C;;AAAgC;AAAA,qBAAU,IAAAP,IAAA,EAAV;AAAgB,aAAhB;;AAC9B;;AACE;;AAAO;;AAAQ;;AACf;;AAAyC;AAAA;AAAA;;AAAzC;;AACF;;AACA;;AACE;;AAAO;;AAAM;;AACb;;AAEF;;AACA;;AACE;;AAAO;;AAAK;;AACZ;;AAEF;;AACA;;AACE;;AAAO;;AAAU;;AACjB;;AAAyC;AAAA;AAAA;;AAAzC;;AACF;;AACA;;AAWA;;AACE;;AAAO;;AAAgB;;AACvB;;AACE;;AACF;;AACF;;AACA;;AACE;;AAAO;;AAAwB;;AAC/B;;AACE;;AACF;;AACF;;AACA;;AAAwD;;AAAS;;AACjE;;AAAyE;;AAAM;;AACjF;;;;AA7CI;;AAAA;;AAIyC;;AAAA;;AAIlB;;AAAA,gGAAsB,aAAtB,EAAsB,oBAAtB,EAAsB,qBAAtB,EAAsB,UAAtB,EAAsB,UAAtB,EAAsB,IAAtB,EAAsB,cAAtB,EAAsB,KAAtB;;AAKD;;AAAA,+FAAqB,aAArB,EAAqB,mBAArB,EAAqB,qBAArB,EAAqB,SAArB,EAAqB,UAArB,EAAqB,IAArB,EAAqB,cAArB,EAAqB,OAArB;;AAKmB;;AAAA;;AAEtC;;AAAA;;AAc8B;;AAAA;;AAMA;;AAAA;;;;;;;;;wEC5BxBO,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACTxC,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTmB,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKmB,U;;;;;;;;;;;;;;kBAO3B,uD;mBAAU,e;;;kBACV,uD;mBAAU,c;;;kBACV,uD;mBAAU,gB;;;kBACV,uD;mBAAU,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBmB;;AACiD;AAAA;;AAAA;;AAAA,oCAAmB,aAAnB;AAAgC,WAAhC;;;;AADjD;;;;;;AAAyB;;;;;;AAIjB;;;;;;;;AAGhB;;AACQ;;AACQ;AAAA;;AAAA;;AAAA,oCAAmB,aAAnB;AAAgC,WAAhC;;AAAmC;;AAAoC;;AACvF;;;;;;AADmD;;AAAA;;;;;;;;AAW3C;;AACgC;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAK;;;;;;AAC/D;;AAA8C;;AAAS;;;;;;AAH/D;;AACQ;;AAEA;;AACR;;;;;;AAHgB;;AAAA;;AAEF;;AAAA;;;;UCdzBwD,iB;AAQX,mCAAoBnC,YAApB,EACU3C,WADV,EAES+E,WAFT,EAGUpD,cAHV,EAIUqD,aAJV,EAKUC,YALV,EAKsC;AAAA;;AALlB,eAAAtC,YAAA,GAAAA,YAAA;AACV,eAAA3C,WAAA,GAAAA,WAAA;AACD,eAAA+E,WAAA,GAAAA,WAAA;AACC,eAAApD,cAAA,GAAAA,cAAA;AACA,eAAAqD,aAAA,GAAAA,aAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AAXV,eAAA1F,IAAA,GAAoB,EAApB;AAYE,eAAK9D,EAAL,GAAUkG,cAAc,CAACC,QAAf,CAAwBC,MAAxB,CAA+B,IAA/B,CAAV;AACD;;;;qCAEgB;;;;;;;;;;AACI,6BAAM,KAAKc,YAAL,CAAkBG,OAAlB,CAA0B,KAAKrH,EAA/B,EAAmCuB,SAAnC,EAAN;;;AAAbkI,gC;AACN,2BAAK3F,IAAL,GAAY;AACV9D,0BAAE,EAAEyJ,UAAU,CAACzJ,EADL;AAEViI,6BAAK,EAAEwB,UAAU,CAACxB,KAFR;AAGVX,6BAAK,EAAEmC,UAAU,CAACnC,KAHR;AAIVV,+BAAO,EAAE6C,UAAU,CAACvB,WAAX,CAAuBjI,GAAvB,CAA2B,UAAA0H,CAAC;AAAA,iCAAIA,CAAC,CAAChE,MAAF,IAAYgE,CAAC,CAAChE,MAAF,CAAS+F,GAAzB;AAAA,yBAA5B,EAA0DC,IAA1D,CAA+D,GAA/D,CAJC;AAKVvC,8BAAM,EAAEqC,UAAU,CAACpB,UAAX,CAAsBpI,GAAtB,CAA0B,UAAA0H,CAAC;AAAA,iCAAIA,CAAC,CAAC3D,KAAF,IAAW2D,CAAC,CAAC3D,KAAF,CAAQiE,KAAvB;AAAA,yBAA3B,EAAyD0B,IAAzD,CAA8D,GAA9D;AALE,uBAAZ;AAOAF,gCAAU,CAAClC,WAAX,CAAuBqC,IAAvB,CAA4B,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAAE,4BAAID,CAAC,CAACnB,MAAN,EAAc,OAAO,CAAP;AAAW,uBAAjE;AACA,2BAAK5E,IAAL,CAAUiG,kBAAV,GAA+BN,UAAU,CAAClC,WAAX,CAAuBtH,GAAvB,CAA2B,UAAA0H,CAAC;AAAA,+BAAIA,CAAC,CAACtG,MAAN;AAAA,uBAA5B,CAA/B;AACM2I,iC,GAAcP,UAAU,CAAClC,WAAX,CAAuB0C,IAAvB,CAA4B,UAAAtC,CAAC;AAAA,+BAAIA,CAAC,CAACe,MAAN;AAAA,uBAA7B,C;;AACpB,0BAAIsB,WAAW,IAAIA,WAAW,CAAC3I,MAA/B,EAAuC;AACrC,6BAAKkI,aAAL,CAAmBW,WAAnB,CAA+BF,WAAW,CAAC3I,MAA3C,EAAmD5B,IAAnD,CAAwD,UAACgD,GAAD,EAAS;AAC/D,gCAAI,CAACqB,IAAL,CAAUqG,QAAV,GAAqB1H,GAArB;AACD,yBAFD;AAGD;;;;;;;;;AACF;;;oCAESqB,I,EAAY;AACpB,iBAAKwF,WAAL,CAAiBc,SAAjB,CAA2BtG,IAA3B;AACD;;;oCAES9D,E,EAAY;AACpB,iBAAKwJ,YAAL,CAAkBa,IAAlB,CAAuBrK,EAAvB;AACD;;;8BAtCqB;AACpB,mBAAO,KAAKuE,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,gBAArC,GAAwD,KAAKD,WAAL,CAAiBC,gBAAzE,GAA4F,IAAnG;AACD;;;;;;;yBANU6E,iB,EAAiB,kI,EAAA,2I,EAAA,yJ,EAAA,+H,EAAA,wI,EAAA,2J;AAAA,O;;;cAAjBA,iB;AAAiB,kC;AAAA,iB;AAAA,e;AAAA,giB;AAAA;AAAA;ADZ9B;;AACQ;;AACQ;;AACQ;;AACQ;;AAGA;;AAGR;;AACA;;AAIR;;AACA;;AACQ;;AAAI;;AAAQ;;AACZ;;AAAG;;AAAc;;AACjB;;AAAI;;AAAS;;AACb;;AAAG;;AAAgB;;AACnB;;AAAI;;AAAQ;;AACZ;;AAAG;;AAAe;;AAClB;;AAKR;;AACR;;AACR;;AAEA;;AACQ;;AACR;;;;;;AA7BwC;;AAAA,gGAAwC,UAAxC,EAAwC,GAAxC;;AAMX;;AAAA;;AAOF;;AAAA;;AAEA;;AAAA;;AAEA;;AAAA;;AACE;;AAAA;;AAUX;;AAAA;;;;;;;;;;wECrBLA,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACT5E,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTmB,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKmB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACWgB;;AACkC;;AAAQ;;;;AAAtC;;;;;;AAYJ;;;;;;AACA;;;;;;AAMI;;;;;;;;AAAyB;;;;;;AAErB;;;;;;;;AAQJ;;AACI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAK;;;;;;AAChC;;AAA2C;;AAAS;;;;;;AAHxD;;AACI;;AAEA;;AACJ;;;;;;;;AAHY;;AAAA;;AAEF;;AAAA;;;;;;;;AAEV;;AACI;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoB;;AAAO;;AACjF;;AAC0C;;AAAa;;AAC3D;;;;;;AADQ;;AAAA;;;;;;AAnBZ;;AACI;;AACI;;AACA;;AAGJ;;AACA;;AAAI;;AAAiC;;AAAY;;AAAI;;AACrD;;AAAI;;AAAc;;AAClB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAY;;AAChB;;AAKA;;;;;;AAKJ;;;;;;;;;;AAnBiE;;AAAA,gHAAsC,UAAtC,EAAsC,GAAtC;;AAKtD;;AAAA;;AAA8B;;AAAA;;AACjC;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AAKA;;AAAA;;;;UDjCPyE,kB;AAYX,oCAAoBpD,YAApB,EACU3C,WADV,EAEUgF,aAFV,EAGSD,WAHT,EAGmC;AAAA;;AAHf,eAAApC,YAAA,GAAAA,YAAA;AACV,eAAA3C,WAAA,GAAAA,WAAA;AACA,eAAAgF,aAAA,GAAAA,aAAA;AACD,eAAAD,WAAA,GAAAA,WAAA;AAZT,eAAAiB,UAAA,GAAqB,EAArB;AAEA,eAAAC,QAAA,GAAmB,CAAnB;AAWC;;;;qCAEU;AACT,iBAAKC,SAAL;AACD;;;sCAEW;AAAA;;AACV,iBAAKvD,YAAL,CAAkBwD,QAAlB,GAA6B/E,SAA7B,CAAuC,UAACyD,IAAD,EAAkB;AACvD,qBAAI,CAACA,IAAL,GAAYA,IAAI,CAACnJ,GAAL,CAAS,UAAC6D,IAAD,EAAU;AAC7B,oBAAI6G,QAAQ,GAAgB;AAC1B3K,oBAAE,EAAE8D,IAAI,CAAC9D,EADiB;AAE1BiI,uBAAK,EAAEnE,IAAI,CAACmE,KAFc;AAG1BX,uBAAK,EAAExD,IAAI,CAACwD,KAHc;AAI1BV,yBAAO,EAAE9C,IAAI,CAACoE,WAAL,CAAiBjI,GAAjB,CAAqB,UAAA0H,CAAC;AAAA,2BAAIA,CAAC,CAAChE,MAAF,IAAYgE,CAAC,CAAChE,MAAF,CAAS+F,GAAzB;AAAA,mBAAtB,EAAoDC,IAApD,CAAyD,GAAzD,CAJiB;AAK1BvC,wBAAM,EAAEtD,IAAI,CAACuE,UAAL,CAAgBpI,GAAhB,CAAoB,UAAA0H,CAAC;AAAA,2BAAIA,CAAC,CAAC3D,KAAF,IAAW2D,CAAC,CAAC3D,KAAF,CAAQiE,KAAvB;AAAA,mBAArB,EAAmD0B,IAAnD,CAAwD,GAAxD;AALkB,iBAA5B;AAOA,oBAAMK,WAAW,GAAGlG,IAAI,CAACyD,WAAL,CAAiB0C,IAAjB,CAAsB,UAAAtC,CAAC;AAAA,yBAAIA,CAAC,CAACe,MAAN;AAAA,iBAAvB,CAApB;;AACA,oBAAIsB,WAAW,IAAIA,WAAW,CAAC3I,MAA/B,EAAuC;AACrC,yBAAI,CAACkI,aAAL,CAAmBW,WAAnB,CAA+BF,WAAW,CAAC3I,MAA3C,EAAmD5B,IAAnD,CAAwD,UAACgD,GAAD,EAAS;AAC/DkI,4BAAQ,CAACR,QAAT,GAAoB1H,GAApB;AACD,mBAFD;AAGD;;AACD,uBAAOkI,QAAP;AACD,eAfW,CAAZ;AAgBA,qBAAI,CAACC,UAAL,GAAkB,OAAI,CAACxB,IAAL,CAAUX,MAA5B;;AACA,qBAAI,CAACoC,QAAL,CAAc,CAAd;AACD,aAnBD;AAoBD;;;oCAES/G,I,EAAY;AACpB,iBAAKwF,WAAL,CAAiBc,SAAjB,CAA2BtG,IAA3B;AACAgH,iBAAK,CAAC,sBAAD,CAAL;AACD;;;kCAEMhH,I,EAAY;AAAA;;AACjB,gBAAIiD,OAAO,CAAC,gBAAD,CAAX,EAA+B;AAC7B,mBAAKG,YAAL,CAAkB6D,UAAlB,CAA6BjH,IAAI,CAAC9D,EAAlC,EAAsC2F,SAAtC,CAAgD,YAAM;AACpD,uBAAI,CAAC8E,SAAL;AACD,eAFD;AAGD;AACF;;;mCAEQO,I,EAAY;AACnB,iBAAKC,YAAL,GAAoB,KAAKC,iBAAL,EAApB;AACA,iBAAKN,UAAL,GAAkB,KAAKK,YAAL,CAAkBxC,MAApC;AACA,iBAAKwC,YAAL,GAAoB,KAAKA,YAAL,CACjBE,KADiB,CACX,CAACH,IAAI,GAAG,CAAR,IAAa,KAAKR,QADP,EACiB,CAACQ,IAAI,GAAG,CAAR,IAAa,KAAKR,QAAlB,GAA6B,KAAKA,QADnD,CAApB;AAED;;;8CAEgB;AACf,gBAAI,CAAC,KAAKD,UAAV,EAAsB;AACpB,qBAAO,KAAKnB,IAAZ;AACD;;AACD,gBAAMgC,SAAS,GAAG,KAAKb,UAAL,CAAgBc,WAAhB,EAAlB;AACA,mBAAO,KAAKjC,IAAL,CAAU1B,MAAV,CAAiB,UAAA4D,IAAI;AAAA,qBAAIA,IAAI,CAACrD,KAAL,CAAWoD,WAAX,GAAyBE,QAAzB,CAAkCH,SAAlC,KAC3BE,IAAI,CAAC1E,OAAL,CAAayE,WAAb,GAA2BE,QAA3B,CAAoCH,SAApC,CAD2B,IAE3BE,IAAI,CAAClE,MAAL,CAAYiE,WAAZ,GAA0BE,QAA1B,CAAmCH,SAAnC,CAFuB;AAAA,aAArB,CAAP;AAGD;;;8BAjEqB;AACpB,mBAAO,KAAK7G,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,gBAArC,GAAwD,KAAKD,WAAL,CAAiBC,gBAAzE,GAA4F,IAAnG;AACD;;;;;;;yBAVU8F,kB,EAAkB,yI,EAAA,2I,EAAA,wI,EAAA,kJ;AAAA,O;;;cAAlBA,kB;AAAkB,mC;AAAA,iB;AAAA,gB;AAAA,m0B;AAAA;AAAA;ACZ/B;;AACI;;AAAI;;AAAW;;AACf;;AACI;;AACI;;AACI;;AAAO;AAAA;AAAA,eAAwB,OAAxB,EAAwB;AAAA,qBAAsD,IAAAO,QAAA,CAAS,CAAT,CAAtD;AAAiE,aAAzF;;AAAP;;AACJ;;AACA;;AACI;;AAA4D;AAAA,qBAAY,IAAAA,QAAA,QAAZ;AAA4B,aAA5B;;AAA8B;;AAC9F;;AACA;;AACI;;;;;;AAEJ;;AACJ;;AACJ;;AACA;;AACI;;AACI;;AACI;;AACA;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAM;;AACV;;AAAI;;AAAK;;AACT;;AAAI;;AAAU;;AACd;;AACA;;;;;;AACJ;;AACJ;;AACA;;AACI;;AAsBJ;;AACJ;;AACJ;;;;AAhDuB;;AAAA;;AAGK;;AAAA,+FAAqB,YAArB,EAAqB,cAArB;;AAGT;;AAAA;;AAaC;;AAAA;;AACA;;AAAA;;AAIJ;;AAAA;;;;;;;;;;wEDjBHP,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACT7F,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTmB,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEZ/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa2F,e;AAEX,mCAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,e;AAAe,O;;;cAAfA,e;AAAe,+B;AAAA,gB;AAAA,e;AAAA;AAAA;ACP5B;;AAAI;;AAAG;;AACP;;AAAI;;AAAS;;;;;;;;wEDMAA,e,EAAe;gBAL3B,uDAK2B;iBALjB;AACT/G,oBAAQ,EAAE,QADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTmB,qBAAS,EAAE,CAAC,wBAAD;AAHF,W;AAKiB,U;;;;;;;;;;;;;;;;;;;;AEP5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa4F,iB;AAEX,qCAAc;AAAA;AAAG;;;;qCAET,CACP;;;;;;;yBALUA,iB;AAAiB,O;;;cAAjBA,iB;AAAiB,kC;AAAA,gB;AAAA,e;AAAA;AAAA;ACP9B;;AAAI;;AAAG;;AACP;;AAAI;;AAAS;;;;;;;;wEDMAA,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACThH,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTmB,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKmB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEGjB6F,kB;AAKX,oCAAoBvE,aAApB,EACU/B,MADV,EAEUc,cAFV,EAE0C;AAAA;;AAFtB,eAAAiB,aAAA,GAAAA,aAAA;AACV,eAAA/B,MAAA,GAAAA,MAAA;AACA,eAAAc,cAAA,GAAAA,cAAA;AAJV,eAAAlC,KAAA,GAAe,EAAf;AAKE,eAAKhE,EAAL,GAAUkG,cAAc,CAACC,QAAf,CAAwBC,MAAxB,CAA+B,IAA/B,CAAV;AACA,eAAKC,KAAL,GAAa,CAAC,KAAKrG,EAAnB;AACD;;;;qCAEgB;;;;;;0BACD,KAAKqG,K;;;;;;AACf,6BAAM,KAAKc,aAAL,CAAmBwE,QAAnB,CAA4B,KAAK3L,EAAjC,EAAqCuB,SAArC,EAAN;;;;;;;;qCACA,E;;;AAFJ,2BAAKyC,K;;;;;;;;;AAGN;;;iCAEY;;;;;;;;;AAEX,0BAAI,KAAKqC,KAAT,EAAgB;AACdE,8BAAM,GAAG,KAAKY,aAAL,CAAmByE,WAAnB,CAA+B,KAAK5H,KAApC,EAA2CzC,SAA3C,EAAT;AACD,uBAFD,MAEO;AACLgF,8BAAM,GAAG,KAAKY,aAAL,CAAmB0E,WAAnB,CAA+B,KAAK7H,KAApC,EAA2CzC,SAA3C,EAAT;AACD;;;AACD,6BAAMgF,MAAM,CAAC9G,IAAP,CAAY,YAAM;AACtB,+BAAI,CAAC2F,MAAL,CAAYQ,aAAZ,CAA0B,SAA1B;AACD,uBAFK,CAAN;;;;;;;;;AAGD;;;;;;;yBA5BU8F,kB,EAAkB,mI,EAAA,uH,EAAA,+H;AAAA,O;;;cAAlBA,kB;AAAkB,mC;AAAA,iB;AAAA,e;AAAA,oT;AAAA;AAAA;ACV/B;;AAAI;;AAA2C;;AAC/C;;AAAgC;AAAA,qBAAY,IAAAhF,IAAA,EAAZ;AAAkB,aAAlB;;AAC5B;;AACI;;AAAO;;AAAQ;;AACf;;AAAyC;AAAA;AAAA;;AAAzC;;AACJ;;AACA;;AAAwD;;AAAS;;AACjE;;AAA+E;;AAAM;;AACzF;;;;AARI;;AAAA;;AAI6C;;AAAA;;;;;;;;;wEDMpCgF,kB,EAAkB;gBAL9B,uDAK8B;iBALpB;AACTjH,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTmB,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;AEV/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACWY;;AACI;;AAAI;;AAAY;;AAChB;;AAAI;;AAA4E;;AAAa;;AACzF;;AAA0C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAoB;;AAAO;;AAAS;;AACtF;;;;;;AAHQ;;AAAA;;AACqC;;AAAA;;;;UDJ5CiG,mB;AAGX,qCAAoB3E,aAApB,EAAkD;AAAA;;AAA9B,eAAAA,aAAA,GAAAA,aAAA;AAFpB,eAAAC,MAAA,GAAkB,EAAlB;AAEqD;;;;qCAE7C;AACN,iBAAK2E,UAAL;AACD;;;uCAEY;AAAA;;AACX,iBAAK5E,aAAL,CAAmBK,SAAnB,GAA+B7B,SAA/B,CAAyC,UAACyB,MAAD,EAAY;AACnD,qBAAI,CAACA,MAAL,GAAcA,MAAd;AACD,aAFD;AAGD;;;kCAEMpD,K,EAAc;AAAA;;AACnB,gBAAI+C,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5B,mBAAKI,aAAL,CAAmB6E,WAAnB,CAA+BhI,KAAK,CAAChE,EAArC,EAAyC2F,SAAzC,CAAmD,YAAM;AACvD,uBAAI,CAACoG,UAAL;AACD,eAFD;AAGD;AACF;;;;;;;yBArBUD,mB,EAAmB,mI;AAAA,O;;;cAAnBA,mB;AAAmB,oC;AAAA,iB;AAAA,e;AAAA,uO;AAAA;AAAA;ACThC;;AACI;;AAAI;;AAAa;;AACjB;;AAA0D;;AAAQ;;AAClE;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AACJ;;AACJ;;AACA;;AACI;;AAKJ;;AACJ;;AACJ;;;;AAhB+B;;AAAA;;AASf;;AAAA;;;;;;;;;wEDFHA,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACTrH,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTmB,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;AEThC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEgF;AAiBhF,UAAMoG,SAAS,GAAW,CACtB;AAAEC,YAAI,EAAE,EAAR;AAAYC,iBAAS,EAAE;AAAvB,OADsB,EAEtB;AAAED,YAAI,EAAE,aAAR;AAAuBC,iBAAS,EAAE,sFAAlC;AAAqDC,iBAAS,EAAE,MAAhE;AAAwEC,mBAAW,EAAE,CAAC,qDAAD,CAArF;AAAkGjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAAxG,OAFsB,EAGtB;AAAEL,YAAI,EAAE,eAAR;AAAyBC,iBAAS,EAAE,sFAApC;AAAuDE,mBAAW,EAAE,CAAC,qDAAD,CAApE;AAAiFjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAAvF,OAHsB,EAItB;AAAEL,YAAI,EAAE,UAAR;AAAoBC,iBAAS,EAAE;AAA/B,OAJsB,EAKtB;AAAED,YAAI,EAAE,YAAR;AAAsBC,iBAAS,EAAE;AAAjC,OALsB,EAMtB;AAAED,YAAI,EAAE,mBAAR;AAA6BC,iBAAS,EAAE;AAAxC,OANsB,EAOtB;AAAED,YAAI,EAAE,WAAR;AAAqBC,iBAAS,EAAE,6FAAhC;AAAqDE,mBAAW,EAAE,CAAC,qDAAD;AAAlE,OAPsB,EAQtB;AAAEH,YAAI,EAAE,SAAR;AAAmBC,iBAAS,EAAE,yEAA9B;AAA6CE,mBAAW,EAAE,CAAC,qDAAD;AAA1D,OARsB,EAStB;AAAEH,YAAI,EAAE,QAAR;AAAkBM,kBAAU,EAAE,eAA9B;AAA+CJ,iBAAS,EAAE;AAA1D,OATsB,EAUtB;AAAEF,YAAI,EAAE,cAAR;AAAwBC,iBAAS,EAAE,8FAAnC;AAAwDE,mBAAW,EAAE,CAAC,qDAAD,CAArE;AAAkFjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKG,SAA1B;AAAT;AAAxF,OAVsB,EAWtB;AAAEP,YAAI,EAAE,SAAR;AAAmBC,iBAAS,EAAE,kGAA9B;AAAoDE,mBAAW,EAAE,CAAC,qDAAD,CAAjE;AAA8EjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAApF,OAXsB,EAYtB;AAAEL,YAAI,EAAE,eAAR;AAAyBC,iBAAS,EAAE,+FAApC;AAAyDC,iBAAS,EAAE,MAApE;AAA4EC,mBAAW,EAAE,CAAC,qDAAD,CAAzF;AAAsGjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAA5G,OAZsB,EAatB;AAAEL,YAAI,EAAE,iBAAR;AAA2BC,iBAAS,EAAE,+FAAtC;AAA2DE,mBAAW,EAAE,CAAC,qDAAD,CAAxE;AAAqFjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAA3F,OAbsB,EActB;AAAEL,YAAI,EAAE,QAAR;AAAkBC,iBAAS,EAAE,8FAA7B;AAAkDE,mBAAW,EAAE,CAAC,qDAAD,CAA/D;AAA4EjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAAlF,OAdsB,EAetB;AAAEL,YAAI,EAAE,cAAR;AAAwBC,iBAAS,EAAE,2FAAnC;AAAuDC,iBAAS,EAAE,MAAlE;AAA0EC,mBAAW,EAAE,CAAC,qDAAD,CAAvF;AAAoGjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAA1G,OAfsB,EAgBtB;AAAEL,YAAI,EAAE,gBAAR;AAA0BC,iBAAS,EAAE,2FAArC;AAAyDE,mBAAW,EAAE,CAAC,qDAAD,CAAtE;AAAmFjD,YAAI,EAAE;AAAE5F,eAAK,EAAE,CAAC,kDAAK8I,aAAN,EAAqB,kDAAKC,WAA1B;AAAT;AAAzF,OAhBsB,EAiBtB;AAAEL,YAAI,EAAE,WAAR;AAAqBC,iBAAS,EAAE;AAAhC,OAjBsB,EAkBtB;AAAED,YAAI,EAAE,WAAR;AAAqBC,iBAAS,EAAE;AAAhC,OAlBsB,EAmBtB;AAAED,YAAI,EAAE,IAAR;AAAcC,iBAAS,EAAE;AAAzB,OAnBsB,CAA1B;;UA8BaO,e;;;;;cAAAA;;;;2BAAAA,e;AAAe,S;AAAA,kBAPf,CACL,6DAAaC,OAAb,CAAqBV,SAArB,CADK,CAOe,EAHpB,4DAGoB;;;;4HAAfS,e,EAAe;AAAA;AAAA,oBAHpB,4DAGoB;AAAA,S;AAHR,O;;;;;wEAGPA,e,EAAe;gBAR3B,sDAQ2B;iBARlB;AACN3H,mBAAO,EAAE,CACL,6DAAa4H,OAAb,CAAqBV,SAArB,CADK,CADH;AAINlM,mBAAO,EAAE,CACL,4DADK;AAJH,W;AAQkB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UC5Cf6M,S;AACT,2BAAoBxH,MAApB,EACYC,qBADZ,EAC0D;AAAA;;AADtC,eAAAD,MAAA,GAAAA,MAAA;AACR,eAAAC,qBAAA,GAAAA,qBAAA;AAAiD;;;;sCAE3CwH,K,EAA+BC,K,EAA4B;;;;;;;AACnEtJ,2B,GAAQqJ,KAAK,CAACzD,IAAN,CAAW5F,KAAX,GAAmBqJ,KAAK,CAACzD,IAAN,CAAW5F,KAA9B,GAAsC,E;;AACrC,6BAAM,KAAK6B,qBAAL,CAA2B0H,WAA3B,CAAuCvJ,KAAvC,EAA8CjC,SAA9C,EAAN;;;AAATa,4B;;0BACDA,M;;;;;AACD,2BAAKgD,MAAL,CAAYQ,aAAZ,CAA0B,aAA1B;wDACO,K;;;wDAEJ,I;;;;;;;;;AACV;;;;;;;yBAZQgH,S,EAAS,8G,EAAA,2H;AAAA,O;;;eAATA,S;AAAS,iBAATA,SAAS,K;AAAA,oBADI;;;;;wEACbA,S,EAAS;gBADrB,wDACqB;iBADV;AAAErK,sBAAU,EAAE;AAAd,W;AACU,U;;;;;;;;;;;;;;;;;;;;;;;;ACLtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQayK,gB;AACT,kCAAoB3H,qBAApB,EACYD,MADZ,EAC4B;AAAA;;AADR,eAAAC,qBAAA,GAAAA,qBAAA;AACR,eAAAD,MAAA,GAAAA,MAAA;AAAmB;;;;oCAErB9F,G,EAAuB6C,I,EAAiB;AAAA;;AAC9C,mBAAOA,IAAI,CAAC8K,MAAL,CAAY3N,GAAZ,EACFoC,IADE,CACG,kEAAW,UAAAwL,GAAG;AAAA,qBAAI,OAAI,CAACC,WAAL,CAAiBD,GAAjB,CAAJ;AAAA,aAAd,CADH,CAAP;AAEH;;;sCAEmB9J,Q,EAA2B;AAC3C,gBAAI,CAAC,GAAD,EAAM,GAAN,EAAWgK,OAAX,CAAmBhK,QAAQ,CAACiK,MAA5B,MAAwC,CAAC,CAA7C,EAAgD;AAC5C,kBAAIjK,QAAQ,CAACiK,MAAT,KAAoB,GAAxB,EAA6B;AACzB,qBAAKhI,qBAAL,CAA2BiI,MAA3B;AACA,qBAAKlI,MAAL,CAAYQ,aAAZ,CAA0B,aAA1B;AACH;;AACD,mBAAKR,MAAL,CAAYQ,aAAZ,CAA0B,YAA1B;AACA;AACH;;AACD,gBAAIxC,QAAQ,CAACiK,MAAT,KAAoB,GAAxB,EAA6B;AACzB,mBAAKjI,MAAL,CAAYQ,aAAZ,CAA0B,YAA1B;AACA;AACH;;AACD,gBAAI2H,OAAO,GAAQnK,QAAQ,CAACoK,KAAT,IAAkB,EAArC;;AAEA,gBAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,kBAAI;AAAEA,uBAAO,GAAG5K,IAAI,CAACC,KAAL,CAAW2K,OAAX,CAAV;AAAgC,eAAtC,CAAuC,OAAOC,KAAP,EAAc,CAAG;AAC3D;;AAED,gBAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;AAC7B,kBAAIA,OAAO,CAACE,cAAR,KAA2BC,SAA/B,EAA0C;AACtCH,uBAAO,GAAGA,OAAO,CAACE,cAAR,CAAuBE,gBAAjC;AACH,eAFD,MAEO;AACH,oBAAIJ,OAAO,CAACI,gBAAR,KAA6BD,SAAjC,EAA4C;AACxCH,yBAAO,GAAGA,OAAO,CAACI,gBAAlB;AACH,iBAFD,MAEO;AACH,sBAAIJ,OAAO,CAACK,SAAR,KAAsBF,SAA1B,EAAqC;AACjCH,2BAAO,GAAGA,OAAO,CAACK,SAAlB;AACH;AACJ;AACJ;AACJ;;AAED,gBAAIL,OAAJ,EAAa;AACTM,qBAAO,CAACC,GAAR,CAAYP,OAAZ;AACH;;AACD,gBAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC7BzC,mBAAK,CAACyC,OAAD,CAAL;AACH;;AAED,mBAAO,wDAAWnK,QAAX,CAAP;AACH;;;;;;;yBAlDQ4J,gB,EAAgB,2H,EAAA,8G;AAAA,O;;;eAAhBA,gB;AAAgB,iBAAhBA,gBAAgB;;;;;wEAAhBA,gB,EAAgB;gBAD5B;AAC4B,U;;;;;;;;;;;;;;;;;;;;;;;;ACR7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMae,c;AACT,gCAAoB1I,qBAApB,EAAkE;AAAA;;AAA9C,eAAAA,qBAAA,GAAAA,qBAAA;AAAiD;;;;oCAE3DpC,O,EAA2Bd,I,EAAiB;AAClD,gBAAMY,WAAW,GAAG,KAAKsC,qBAAL,CAA2Bb,gBAA/C;AACA,gBAAMwJ,UAAU,GAAGjL,WAAW,IAAIA,WAAW,CAACM,KAA9C;AACA,gBAAM4K,QAAQ,GAAGhL,OAAO,CAACR,GAAR,CAAYyL,UAAZ,CAAuB,KAAvB,CAAjB;;AACA,gBAAIF,UAAU,IAAIC,QAAlB,EAA4B;AACxBhL,qBAAO,GAAGA,OAAO,CAACkL,KAAR,CAAc;AACpBC,0BAAU,EAAE;AACRC,+BAAa,mBAAYtL,WAAW,CAACM,KAAxB;AADL;AADQ,eAAd,CAAV;AAKH;;AAED,mBAAOlB,IAAI,CAAC8K,MAAL,CAAYhK,OAAZ,CAAP;AACH;;;;;;;yBAhBQ8K,c,EAAc,2H;AAAA,O;;;eAAdA,c;AAAc,iBAAdA,cAAc;;;;;wEAAdA,c,EAAc;gBAD1B;AAC0B,U;;;;;;;;;;;;;;;;;;;;;;ACN3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;;UAIaO,U;AACT,8BAAc;AAAA;AAAG;;;;oCAEPC,I,EAAYC,M,EAAiB;AACnC,gBAAI,CAACD,IAAL,EAAW;AACP,qBAAO,EAAP;AACH;;AACD,gBAAIC,MAAJ,EAAY;AACR,qBAAO,mCAAM,CAACD,IAAD,CAAN,CAAaC,MAAb,CAAoBA,MAApB,CAAP;AACH;;AACD,mBAAO,mCAAM,CAACD,IAAD,CAAN,CAAaC,MAAb,CAAoB,YAApB,CAAP;AACH;;;;;;;yBAXQF,U;AAAU,O;;;;cAAVA,U;AAAU;;;;;wEAAVA,U,EAAU;gBADtB,kDACsB;iBADjB;AAAE3F,gBAAI,EAAE;AAAR,W;AACiB,U;;;;;;;;;;;;;;;;;;;;ACJvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIa8F,a;AACT,+BAAsBC,UAAtB,EAAgD;AAAA;;AAA1B,eAAAA,UAAA,GAAAA,UAAA;AAA6B;;;;oCAElCjL,K,EAAa;AAC1B,mBAAO,KAAKiL,UAAL,CAAgBC,8BAAhB,CAA+ClL,KAA/C,CAAP;AACH;;;;;;;yBALQgL,a,EAAa,uI;AAAA,O;;;;cAAbA,a;AAAa;;;;;wEAAbA,a,EAAa;gBADzB,kDACyB;iBADpB;AAAE9F,gBAAI,EAAE;AAAR,W;AACoB,U;;;;;;;;;;;;;;;;;;;;;;ACJ1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIaiG,gB;AACT,oCAAc;AAAA;AAAG;;;;oCAEPtD,I,EAAmB;AACzB,gBAAIA,IAAI,KAAK,wDAAYuD,OAAzB,EAAkC;AAC9B,qBAAO,uBAAP;AACH;;AACD,gBAAIvD,IAAI,KAAK,wDAAYwD,QAAzB,EAAmC;AAC/B,qBAAO,SAAP;AACH;;AACD,gBAAIxD,IAAI,KAAK,wDAAYyD,QAAzB,EAAmC;AAC/B,qBAAO,SAAP;AACH;;AACD,mBAAO,EAAP;AACH;;;;;;;yBAdQH,gB;AAAgB,O;;;;cAAhBA,gB;AAAgB;;;;;wEAAhBA,gB,EAAgB;gBAD5B,kDAC4B;iBADvB;AAAEjG,gBAAI,EAAE;AAAR,W;AACuB,U;;;;;;;;;;;;;;;;;;;;ACJ7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIaqG,S;AACT,6BAAc;AAAA;AAAG;;;;oCAEP1D,I,EAAY;AAClB,gBAAIA,IAAI,IAAI,iDAAKgB,aAAjB,EAAgC;AAC5B,qBAAO,eAAP;AACH;;AACD,gBAAIhB,IAAI,IAAI,iDAAKmB,SAAjB,EAA4B;AACxB,qBAAO,cAAP;AACH;;AACD,gBAAInB,IAAI,IAAI,iDAAK2D,MAAjB,EAAyB;AACrB,qBAAO,UAAP;AACH;;AACD,gBAAI3D,IAAI,IAAI,iDAAKiB,WAAjB,EAA8B;AAC1B,qBAAO,WAAP;AACH;;AACD,mBAAO,SAAP;AACH;;;;;;;yBAjBQyC,S;AAAS,O;;;;cAATA,S;AAAS;;;;;wEAATA,S,EAAS;gBADrB,kDACqB;iBADhB;AAAErG,gBAAI,EAAE;AAAR,W;AACgB,U;;;;;UAqBTuG,O;AACT,2BAAc;AAAA;AAAG;;;;oCAEPC,I,EAAoB;AAC1B,mBAAOA,IAAI,IAAIA,IAAI,CAACC,IAAL,IAAa,iDAAK9C,aAAjC;AACH;;;;;;;yBALQ4C,O;AAAO,O;;;;cAAPA,O;AAAO;;;;;wEAAPA,O,EAAO;gBADnB,kDACmB;iBADd;AAAEvG,gBAAI,EAAE;AAAR,W;AACc,U;;;;;UASP0G,a;AACT,iCAAc;AAAA;AAAG;;;;oCAEPF,I,EAAoB;AAC1B,mBAAOA,IAAI,IAAIA,IAAI,CAACC,IAAL,IAAa,iDAAK7C,WAAjC;AACH;;;;;;;yBALQ8C,a;AAAa,O;;;;cAAbA,a;AAAa;;;;;wEAAbA,a,EAAa;gBADzB,kDACyB;iBADpB;AAAE1G,gBAAI,EAAE;AAAR,W;AACoB,U;;;;;UASb2G,W;AACT,+BAAc;AAAA;AAAG;;;;oCAEPH,I,EAAoB;AAC1B,mBAAOA,IAAI,IAAIA,IAAI,CAACC,IAAL,IAAa,iDAAK3C,SAAjC;AACH;;;;;;;yBALQ6C,W;AAAW,O;;;;cAAXA,W;AAAW;;;;;wEAAXA,W,EAAW;gBADvB,kDACuB;iBADlB;AAAE3G,gBAAI,EAAE;AAAR,W;AACkB,U;;;;;;;;;;;;;;;;;;;;AC3CxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIa4G,Y;AACT,gCAAc;AAAA;AAAG;;;;oCAEPC,K,EAAsBjF,U,EAAkB;AAC9C,gBAAI,CAACiF,KAAD,IAAUA,KAAK,CAAC/G,MAAN,KAAiB,CAA/B,EAAkC;AAC9B,qBAAO,EAAP;AACH;;AACD,gBAAI,CAAC8B,UAAL,EAAiB;AACb,qBAAOiF,KAAP;AACH;;AAEDjF,sBAAU,GAAGA,UAAU,CAACc,WAAX,EAAb;AAEA,mBAAOmE,KAAK,CAAC9H,MAAN,CAAa,UAAA4D,IAAI;AAAA,qBAAIA,IAAI,CAACrD,KAAL,CAAWoD,WAAX,GAAyBE,QAAzB,CAAkChB,UAAlC,KACrBe,IAAI,CAAC1E,OAAL,CAAayE,WAAb,GAA2BE,QAA3B,CAAoChB,UAApC,CADqB,IAErBe,IAAI,CAAClE,MAAL,CAAYiE,WAAZ,GAA0BE,QAA1B,CAAmChB,UAAnC,CAFiB;AAAA,aAAjB,CAAP;AAGH;;;;;;;yBAhBQgF,Y;AAAY,O;;;;cAAZA,Y;AAAY;;;;;wEAAZA,Y,EAAY;gBADxB,kDACwB;iBADnB;AAAE5G,gBAAI,EAAE;AAAR,W;AACmB,U;;;;;;;;;;;;;;;;;;;;ACJzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMa8G,W;AAGT,+BAAc;AAAA;;AAFd,eAAAC,KAAA,GAAgB,EAAhB;AAEiB;;;;oCAEP5L,I,EAAY;AAClB,iBAAK4L,KAAL,CAAW1G,IAAX,CAAgBlF,IAAhB;AACH;;;yCAEcA,I,EAAY;AACvB,gBAAM6L,KAAK,GAAG,KAAKD,KAAL,CAAWtC,OAAX,CAAmBtJ,IAAnB,CAAd;;AACA,gBAAI6L,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZ,mBAAKD,KAAL,CAAWE,MAAX,CAAkBD,KAAlB,EAAyB,CAAzB;AACH;;AACD,mBAAO,KAAKD,KAAZ;AACH;;;qCAEU;AACP,mBAAO,KAAKA,KAAZ;AACH;;;sCAEW;AACR,iBAAKA,KAAL,GAAa,EAAb;AACA,mBAAO,KAAKA,KAAZ;AACH;;;qCAEO;AACJ,mBAAO,KAAKA,KAAL,IAAc,KAAKA,KAAL,CAAWjH,MAAX,GAAoB,CAAzC;AACH;;;wCAEa3E,I,EAAU;AACpB,mBAAOA,IAAI,GAAG,CAAC,CAAC,KAAK4L,KAAL,CAAWzF,IAAX,CAAgB,UAAAtC,CAAC;AAAA,qBAAIA,CAAC,CAAC3H,EAAF,KAAS8D,IAAI,CAAC9D,EAAlB;AAAA,aAAjB,CAAL,GAA8C,IAAzD;AACH;;;;;;;yBAhCQyP,W;AAAW,O;;;eAAXA,W;AAAW,iBAAXA,WAAW,K;AAAA,oBAFR;;;;;wEAEHA,W,EAAW;gBAHvB,wDAGuB;iBAHZ;AACRlN,sBAAU,EAAE;AADJ,W;AAGY,U;;;;;;;;;;;;;;;;;;;;ACNxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAIasN,Y;AADb;AAAA;;AAEY,eAAAC,MAAA,GAAgB,EAAhB;AACA,eAAAC,UAAA,GAAa,IAAI,4CAAJ,EAAb;AACR,eAAAC,qBAAA,GAAwB,KAAKD,UAAL,CAAgB/M,YAAhB,EAAxB;AAqBH;;;;8BAnBOiN,K,EAAY;AACZ,iBAAKH,MAAL,CAAY9G,IAAZ,CAAiBiH,KAAjB;AACH;;;iCAEMjQ,E,EAAY;AACf,iBAAK8P,MAAL,GAAc,KAAKA,MAAL,CAAYpI,MAAZ,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC3H,EAAF,KAASA,EAAb;AAAA,aAApB,CAAd;AACH;;;+BAEIA,E,EAAY;AACb,gBAAIiQ,KAAK,GAAQ,KAAKH,MAAL,CAAYpI,MAAZ,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC3H,EAAF,KAASA,EAAb;AAAA,aAApB,EAAqC,CAArC,CAAjB;AACA,iBAAK+P,UAAL,CAAgB5N,IAAhB,CAAqB,MAArB;AACA8N,iBAAK,CAAC5F,IAAN;AACH;;;gCAEKrK,E,EAAY;AACd,gBAAIiQ,KAAK,GAAQ,KAAKH,MAAL,CAAYpI,MAAZ,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC3H,EAAF,KAASA,EAAb;AAAA,aAApB,EAAqC,CAArC,CAAjB;AACA,iBAAK+P,UAAL,CAAgB5N,IAAhB,CAAqB,OAArB;AACA8N,iBAAK,CAACC,KAAN;AACH;;;;;;;yBAvBQL,Y;AAAY,O;;;eAAZA,Y;AAAY,iBAAZA,YAAY,K;AAAA,oBADC;;;;;wEACbA,Y,EAAY;gBADxB,wDACwB;iBADb;AAAEtN,sBAAU,EAAE;AAAd,W;AACa,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFZ;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAA0C;;AAAC;;;;;;;;AAI9E;;AAAmC;AAAA;;AAAA;;AAAA;AAAA;;AAA2C;;AAAC;;;;UCS/E4N,iB;AAkBX,mCAAoB5G,aAApB,EACUC,YADV,EACsC;AAAA;;AADlB,eAAAD,aAAA,GAAAA,aAAA;AACV,eAAAC,YAAA,GAAAA,YAAA;AAlBF,eAAA4G,YAAA,GAAuB,CAAvB;AAER,eAAAC,SAAA,GAAyB,EAAzB;AAgByC;;;;qCAEjC;AAAA;;AACN,iBAAKC,sBAAL,GAA8B,KAAK9G,YAAL,CAAkBwG,qBAAlB,CAAwCrK,SAAxC,CAAkD,UAACmH,KAAD,EAAW;AACzF,kBAAIA,KAAK,KAAK,MAAd,EAAsB;AACpB,uBAAI,CAACsD,YAAL,GAAoB,CAApB;;AACA,uBAAI,CAACG,SAAL;AACD;AACF,aAL6B,CAA9B;AAMD;;;wCAEa;AACZ,iBAAKD,sBAAL,CAA4BE,WAA5B;AACD;;;iCAGM;AACL,iBAAKJ,YAAL;AACA,iBAAKG,SAAL;AACD;;;iCAGM;AACL,iBAAKH,YAAL;AACA,iBAAKG,SAAL;AACD;;;uCAEY;AACX,gBAAI,KAAKH,YAAL,GAAoB,CAAxB,EAA2B;AACzB,mBAAKA,YAAL,GAAoB,KAAKC,SAAL,CAAe5H,MAAf,GAAwB,CAA5C;AACD;;AACD,gBAAI,KAAK2H,YAAL,KAAsB,KAAKC,SAAL,CAAe5H,MAAzC,EAAiD;AAC/C,mBAAK2H,YAAL,GAAoB,CAApB;AACD;AACF;;;sCAEiB;;;;;;;AAChB,2BAAKK,UAAL;AACMC,sC,GAAmB,KAAKL,SAAL,CAAe,KAAKD,YAApB,C;;4BACrBM,gBAAgB,CAACC,QAAjB,IAA6BD,gBAAgB,CAACjO,G;;;;;AAChD,2BAAKmO,YAAL,GAAoBF,gBAAgB,CAACjO,GAArC;;;;;AAGMpB,4B,GAASqP,gBAAgB,CAACrP,M;;AACpB,6BAAM,KAAKkI,aAAL,CAAmBW,WAAnB,CAA+B7I,MAA/B,CAAN;;;AAANoB,yB;;AACN,0BAAIA,GAAJ,EAAS;AACPiO,wCAAgB,CAACjO,GAAjB,GAAuBA,GAAvB;AACAiO,wCAAgB,CAACC,QAAjB,GAA4B,IAA5B;AACA,6BAAKC,YAAL,GAAoBF,gBAAgB,CAACjO,GAArC;AACD;;;;;;;;;AAEJ;;;4BAhEuBoO,O,EAAmB;AACzC,gBAAIA,OAAJ,EAAa;AACX,mBAAKR,SAAL,GAAiBQ,OAAO,CAAC5Q,GAAR,CAAY,UAAA0H,CAAC;AAAA,uBAAe;AAC3CtG,wBAAM,EAAEsG,CADmC;AAE3ClF,qBAAG,EAAE,EAFsC;AAG3CkO,0BAAQ,EAAE;AAHiC,iBAAf;AAAA,eAAb,CAAjB;AAKA,mBAAKP,YAAL,GAAoB,CAApB;AACA,mBAAKG,SAAL;AACD;AACF;;;;;;;yBAhBUJ,iB,EAAiB,wI,EAAA,2J;AAAA,O;;;cAAjBA,iB;AAAiB,iC;AAAA;AAAA;;qBAAjB,uB;AAAmB,a,EAAA,K,EAAA,+D,EAAA,iB,EAAA;AAAA,qBAAnB,uBAAmB;AAAA,a,EAAA,K,EAAA,+D;;;;;;;;;;;ADfhC;;AACI;;AACI;;AAAK;;AAAqF;;AAC1F;;AACI;;;;AACJ;;AACA;;AAAK;;AAAsF;;AAC/F;;AACJ;;;;AANmB;;AAAA;;AAEF;;AAAA;;AAEE;;AAAA;;;;;;;;;;wECSNA,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACT1L,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTmB,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKmB,U;;;;;;;;kBAM3B;;;kBA4BA,0D;mBAAa,2B,EAA6B,CAAC,eAAD,C;;;kBAM1C,0D;mBAAa,0B,EAA4B,CAAC,eAAD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDxC;;AAAqE;AAAA;;AAAA;;AAAA;AAAA;;AAArE;;;;;;;;AAEA;;AAA0D;AAAA;;AAAA;;AAAA;AAAA;;AAA1D;;;;;;;;AAIJ;;AAEI;AAAA;;AAAA;;AAAA;AAAA;;AACA;;AACJ;;;;;;AAII;;AACI;;AAA4B;;AAAmB;;AACnD;;;;;;AADgC;;AAAA;;;;;;AAHpC;;AACI;;AAAyB;;AAAkB;;AAC3C;;AAGJ;;;;;;AAH4C;;AAAA;;;;UCD/BiL,qB;AAWX,uCAAoBC,kBAApB,EAA4D;AAAA;;AAAxC,eAAAA,kBAAA,GAAAA,kBAAA;AARpB,eAAAvI,aAAA,GAAgC,EAAhC;AAGA,eAAAwI,IAAA,GAAe,QAAf;AAK+D;;;;qCAEvD,CACP;;;sCAEWC,K,EAAO;AACjB,iBAAKC,aAAL,GAAqBD,KAAK,CAACE,MAAN,CAAaC,KAAlC;AACD;;;wCAEa;AACZ,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKH,aAAL,CAAmBzI,MAAvC,EAA+C4I,CAAC,EAAhD,EAAoD;AAClD,mBAAKC,MAAL,CAAYD,CAAZ,EAAe,KAAKH,aAAL,CAAmBG,CAAnB,CAAf;AACD;AACF;;;iCAEYE,G,EAAKzQ,I,EAAM;;;;;;;;;AACtB,6BAAM,KAAKiQ,kBAAL,CAAwBS,UAAxB,CAAmC1Q,IAAnC,EAAyCS,SAAzC,GAAqD9B,IAArD,CAA0D,UAACgS,UAAD,EAAgB;AAC9E,+BAAI,CAACjJ,aAAL,CAAmBQ,IAAnB,CAAwB;AACtB3H,gCAAM,EAAEoQ,UADc;AAEtB7I,kCAAQ,EAAE9H,IAAI,CAAC6H;AAFO,yBAAxB;;AAIA,+BAAI,CAAC+I,YAAL,CAAkBC,aAAlB,CAAgClO,KAAhC,GAAwC,EAAxC;AACD,uBANK,WAMG,YAAM;AACbqH,6BAAK,sCAAUhK,IAAI,CAAC6H,IAAf,sEAAL;AACD,uBARK,CAAN;;;;;;;;;AASD;;;;;;;yBApCUmI,qB,EAAqB,qJ;AAAA,O;;;cAArBA,qB;AAAqB,sC;AAAA;AAAA;;;;;;;;;;;;;;;;;;ADdlC;;AACI;;AAEA;;AAEJ;;AAEA;;AAMA;;;;AAZyB;;AAAA;;AAEA;;AAAA;;AAKrB;;AAAA;;AAKc;;AAAA;;;;;;;;;wECCLA,qB,EAAqB;gBALjC,uDAKiC;iBALvB;AACTrM,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTmB,qBAAS,EAAE,CAAC,+BAAD;AAHF,W;AAKuB,U;;;;;;kBAK/B;;;kBAGA,uD;mBAAU,c;;;;;;;;;;;;;;;;;;;;ACtBb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;UAQa+L,c;AAYX,gCAAoBpI,YAApB,EACUqI,KADV,EAC6B;AAAA;;AADT,eAAArI,YAAA,GAAAA,YAAA;AACV,eAAAqI,KAAA,GAAAA,KAAA;AANV,eAAAC,MAAA,GAA4B,IAAI,0DAAJ,EAA5B;AAGA,eAAAC,OAAA,GAA6B,IAAI,0DAAJ,EAA7B;AAIE,eAAKC,OAAL,GAAeH,KAAK,CAACF,aAArB;AACD;;;;qCAEU;AACT,gBAAI1B,KAAK,GAAG,IAAZ;;AACA,gBAAI,CAAC,KAAKjQ,EAAV,EAAc;AACZ;AACD;;AAEDiS,oBAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0B,KAAKH,OAA/B;AACA,iBAAKA,OAAL,CAAaI,gBAAb,CAA8B,OAA9B,EAAuC,UAAU1S,CAAV,EAAkB;AACvD,kBAAIA,CAAC,CAACyR,MAAF,CAASkB,SAAT,KAAuB,WAA3B,EAAwC;AACtCpC,qBAAK,CAACC,KAAN;AACD;AACF,aAJD;AAKA,iBAAK1G,YAAL,CAAkB8I,GAAlB,CAAsB,IAAtB;AACD;;;wCAEa;AACZ,iBAAK9I,YAAL,CAAkB+I,MAAlB,CAAyB,KAAKvS,EAA9B;AACA,iBAAKgS,OAAL,CAAaO,MAAb;AACAN,oBAAQ,CAACC,IAAT,CAAcM,SAAd,CAAwBD,MAAxB,CAA+B,UAA/B;AACD;;;iCAEM;AACL,iBAAKP,OAAL,CAAaS,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B;AACAT,oBAAQ,CAACC,IAAT,CAAcM,SAAd,CAAwBF,GAAxB,CAA4B,UAA5B;;AACA,gBAAI,KAAKR,MAAT,EAAiB;AACf,mBAAKA,MAAL,CAAYa,IAAZ;AACD;AACF;;;kCAEO;AACN,iBAAKX,OAAL,CAAaS,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACAT,oBAAQ,CAACC,IAAT,CAAcM,SAAd,CAAwBD,MAAxB,CAA+B,UAA/B;;AACA,gBAAI,KAAKR,OAAT,EAAkB;AAChB,mBAAKA,OAAL,CAAaY,IAAb;AACD;AACF;;;;;;;yBApDUf,c,EAAc,oJ,EAAA,yH;AAAA,O;;;cAAdA,c;AAAc,8B;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,+B;AAAA,gB;AAAA,e;AAAA,sF;AAAA;AAAA;;;ACR3B;;AACI;;AACI;;AACJ;;AACJ;;AACA;;;;;;;;wEDGaA,c,EAAc;gBAL1B,uDAK0B;iBALhB;AACTnN,oBAAQ,EAAE,OADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTmB,qBAAS,EAAE,CAAC,uBAAD;AAHF,W;AAKgB,U;;;;;;;;kBAGxB;;;kBAGA;;;kBAGA;;;;;;;;;;;;;;;;;;;;AEjBH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACCI;;AAAgD;AAAA;;AAAA;;AAAA,uDAA+B,CAA/B;AAAgC,WAAhC;;AAC5C;;AAAqB;;AAAC;;AAC1B;;;;;;;;;;;;;;AACA;;AACuD;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,CAAzB;AAA0B,WAA1B;;AACnD;;AAAqB;;AAAe;;AACxC;;;;;;;;AAFI;;AACqB;;AAAA;;;;;;;;AAEzB;;AAAgE;AAAA;;AAAA;;AAAA,uDAA+B,CAA/B;AAAgC,WAAhC;;AAC5D;;AAAqB;;AAAC;;AAC1B;;;;UDHS+M,mB;AAoBX,uCAAc;AAAA;;AAnBd,eAAAC,UAAA,GAAuB,EAAvB;AACA,eAAAC,WAAA,GAAsB,CAAtB;AAGA,eAAAtI,QAAA,GAAmB,EAAnB;AAaA,eAAAK,QAAA,GAAW,IAAI,0DAAJ,EAAX;AAGC;;;;qCAEU,CAAG;;;kCAENkI,U,EAAkB;AACxB,gBAAIA,UAAU,KAAK,KAAKD,WAAxB,EAAqC;AACnC;AACD;;AACD,iBAAKA,WAAL,GAAmBC,UAAnB;AACA,iBAAKlI,QAAL,CAAc8H,IAAd,CAAmBI,UAAnB;AACD;;;4BAxBuBvD,K,EAAe;AACrC,gBAAIA,KAAJ,EAAW;AACT,kBAAMwD,UAAU,GAAGC,IAAI,CAACC,IAAL,CAAU1D,KAAK,GAAG,KAAKhF,QAAvB,CAAnB;AACA,mBAAKqI,UAAL,GAAkB,IAAIM,KAAJ,CAAUH,UAAV,EAAsBI,IAAtB,CAA2B,CAA3B,CAAlB;AACD;;AACD,gBAAI5D,KAAK,KAAK,CAAd,EAAiB;AACf,mBAAKqD,UAAL,GAAkB,CAAC,CAAD,CAAlB;AACD;AACF;;;;;;;yBAfUD,mB;AAAmB,O;;;cAAnBA,mB;AAAmB,mC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,iP;AAAA;AAAA;ACPhC;;AACI;;AAGA;;AAIA;;AAGJ;;;;AAV0B;;AAAA;;AAGA;;AAAA;;AAIA;;AAAA;;;;;;;;;wEDDbA,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACTnO,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTmB,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKqB,U;;;;kBAI7B;;;kBAGA;;;kBAUA;;;;;;;;;;;;;;;;;;;;AExBH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACCI;;AACI;;AACI;;AAAM;;AAAmB;;AACzB;;AAAM;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAiE;;AAAE;;AAC7E;;AACJ;;;;;;;;AAHc;;AAAA;;;;;;AAOd;;AACI;;AACJ;;;;;;;;AAFgC;;AAC5B;;AAAA;;;;UDJKwN,e;AA2BX,mCAAc;AAAA;;AA1Bd,eAAAC,aAAA,GAAuB,EAAvB;AACA,eAAA9D,KAAA,GAAe,EAAf;AAcA,eAAA+D,QAAA,GAAmB,IAAnB;AAGA,eAAAC,YAAA,GAAuB,OAAvB;AAMA,eAAAC,mBAAA,GAA8B,IAA9B;AAEiB;;;;qCAET,CACP;;;6CAEe;AACd,mBAAO,KAAKH,aAAZ;AACD;;;kCAEOI,O,EAAS;AAAA;;AACf,gBAAMC,YAAY,GAAG,KAAKnE,KAAL,CAAW9H,MAAX,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC,OAAI,CAAC4L,QAAN,CAAD,IAAoBG,OAAxB;AAAA,aAAnB,EAAoD,CAApD,CAArB;AACA,iBAAKlE,KAAL,GAAa,KAAKA,KAAL,CAAW9H,MAAX,CAAkB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC,OAAI,CAAC4L,QAAN,CAAD,IAAoBG,OAAxB;AAAA,aAAnB,CAAb;AACA,iBAAKJ,aAAL,CAAmBtK,IAAnB,CAAwB2K,YAAxB;AACA,iBAAK/J,IAAL;AACD;;;qCAEU8J,O,EAAS;AAAA;;AAClB,gBAAMC,YAAY,GAAG,KAAKL,aAAL,CAAmB5L,MAAnB,CAA0B,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC,OAAI,CAAC4L,QAAN,CAAD,IAAoBG,OAAxB;AAAA,aAA3B,EAA4D,CAA5D,CAArB;AACA,iBAAKJ,aAAL,GAAqB,KAAKA,aAAL,CAAmB5L,MAAnB,CAA0B,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAAC,OAAI,CAAC4L,QAAN,CAAD,IAAoBG,OAAxB;AAAA,aAA3B,CAArB;AACA,iBAAKlE,KAAL,CAAWxG,IAAX,CAAgB2K,YAAhB;AACA,iBAAK/J,IAAL;AACD;;;uCAEYlK,C,EAAG+H,G,EAAK;AACnB,gBAAI,CAACA,GAAD,IAAQA,GAAG,IAAI,CAAC,CAApB,EAAuB;AACvB,iBAAKmM,OAAL,CAAanM,GAAb;AACD;;;iCAEM;AAAA;;AACL,iBAAK+H,KAAL,CAAW5F,IAAX,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,qBAAWD,CAAC,CAAC,OAAI,CAAC2J,YAAN,CAAD,GAAuB1J,CAAC,CAAC,OAAI,CAAC0J,YAAN,CAAzB,GAAgD,CAAhD,GAAoD,CAAC,CAA/D;AAAA,aAAhB;AACD;;;4BArDuBpK,I,EAAM;AAAA;;AAC5B,gBAAIA,IAAJ,EAAU;AACR,mBAAKoG,KAAL,GAAapG,IAAb;;AACA,kBAAI,KAAKyK,WAAL,IAAoB,KAAKA,WAAL,CAAiBpL,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,qBAAK6K,aAAL,GAAqB,KAAK9D,KAAL,CAAW9H,MAAX,CAAkB,UAAAC,CAAC;AAAA,yBAAI,OAAI,CAACkM,WAAL,CAAiBC,IAAjB,CAAsB,UAAAzC,CAAC;AAAA,2BAAIA,CAAC,CAAC,OAAI,CAACoC,mBAAN,CAAD,IAA+B9L,CAAC,CAAC,OAAI,CAAC4L,QAAN,CAApC;AAAA,mBAAvB,CAAJ;AAAA,iBAAnB,CAArB;AACA,qBAAK/D,KAAL,GAAa,KAAKA,KAAL,CAAW9H,MAAX,CAAkB,UAAA2J,CAAC;AAAA,yBAAI,CAAC,OAAI,CAACiC,aAAL,CAAmB/H,QAAnB,CAA4B8F,CAA5B,CAAL;AAAA,iBAAnB,CAAb;AACD;;AACD,mBAAKzH,IAAL;AACD;AACF;;;;;;;yBAbUyJ,e;AAAe,O;;;cAAfA,e;AAAe,+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,gB;AAAA,e;AAAA,2R;AAAA;AAAA;;;ACP5B;;AACI;;AAMJ;;AACA;;AAA0D;AAAA;;AAAA;;AAAA,qBAAU,IAAAU,YAAA,mBAAV;AAA8C,aAA9C;;AACtD;;AAAqB;;AAAG;;AACxB;;AAGJ;;;;AAZS;;AAAA;;AAQG;;AAAA;;AACA;;AAAA;;;;;;;;;wEDHCV,e,EAAe;gBAL3B,uDAK2B;iBALjB;AACT5O,oBAAQ,EAAE,QADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTmB,qBAAS,EAAE,CAAC,wBAAD;AAHF,W;AAKiB,U;;;;kBAIzB;;;kBAWA;;;kBAGA;;;kBAGA;;;kBAGA;;;;;;;;;;;;;;;;;;;;AE/BH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACOY;;AAAuE;;AAAI;;;;;;AAC3E;;AAA8E;;AAAW;;;;;;AACzF;;AAAmE;;AAAuB;;;;;;AAC1F;;AAAqE;;AAAS;;;;;;;;AAC9E;;AAAgD;AAAA;;AAAA;;AAAA;AAAA;;AAA4C;;AAAK;;;;;;AACjG;;AACI;;AAA4B;;AAAyB;;AACrD;;AAAqD;;AAAc;;AACnE;;AAAmD;;AAAgB;;AACnE;;AAAmD;;AAAiB;;AACxE;;;;UDPCmO,iB;AAMX,mCAAoBzP,WAApB,EACUa,MADV,EAC0B;AAAA;;AADN,eAAAb,WAAA,GAAAA,WAAA;AACV,eAAAa,MAAA,GAAAA,MAAA;AACT;;;;qCAEO,CACP;;;mCAEQ;AACP,iBAAKb,WAAL,CAAiB+I,MAAjB;AACA,iBAAKlI,MAAL,CAAYQ,aAAZ,CAA0B,GAA1B;AACD;;;8BAdqB;AACpB,mBAAO,KAAKrB,WAAL,IAAoB,KAAKA,WAAL,CAAiBC,gBAArC,GAAwD,KAAKD,WAAL,CAAiBC,gBAAzE,GAA4F,IAAnG;AACD;;;;;;;yBAJUwP,iB,EAAiB,2I,EAAA,uH;AAAA,O;;;cAAjBA,iB;AAAiB,kC;AAAA,iB;AAAA,gB;AAAA,glC;AAAA;AAAA;ACV9B;;AACI;;AACI;;AAEI;;;;AACJ;;AACA;;AACI;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAMJ;;AACJ;;AACJ;;;;AAhBY;;AAAA;;AAGkD;;AAAA;;AACO;;AAAA;;AACV;;AAAA;;AACE;;AAAA;;AACrB;;AAAA;;AACvB;;AAAA;;;;;;;;;;wEDFJA,iB,EAAiB;gBAL7B,uDAK6B;iBALnB;AACTvP,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTmB,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKmB,U;;;;;;;;;;;;;;;;;;;;;;;;AEV9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACWgB;;AACI;;AAAI;;AAAY;;AAChB;;AAAI;;AAAgC;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA4B;;AAAM;;AAAS;;AACnF;;;;;;AAFQ;;AAAA;;;;;;;;AAVpB;;AACI;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AACJ;;AACJ;;AACA;;AACI;;AAIJ;;AACJ;;AACA;;AAAgC;AAAA;;AAAA;;AAAA;AAAA;;AAAuB;;AAAQ;;AACnE;;;;;;AAPgB;;AAAA;;;;;;AAQhB;;AAA0C;;AAAM;;;;UDRvCoO,a;AAGX,+BAAoB3K,WAApB,EACU4K,aADV,EAEU3P,WAFV,EAGUa,MAHV,EAG0B;AAAA;;AAHN,eAAAkE,WAAA,GAAAA,WAAA;AACV,eAAA4K,aAAA,GAAAA,aAAA;AACA,eAAA3P,WAAA,GAAAA,WAAA;AACA,eAAAa,MAAA,GAAAA,MAAA;AAAmB;;;;qCAErB;AACN,iBAAKsK,KAAL,GAAa,KAAKpG,WAAL,CAAiB6K,QAAjB,EAAb;AACD;;;yCAEcrQ,I,EAAY;AACzB,iBAAK4L,KAAL,GAAa,KAAKpG,WAAL,CAAiB8K,cAAjB,CAAgCtQ,IAAhC,CAAb;AACD;;;uCAEY;AAAA;;AACX,gBAAMI,MAAM,GAAG,KAAKK,WAAL,CAAiBC,gBAAjB,CAAkCxE,EAAjD;AACA,gBAAMoE,MAAM,GAAY,EAAxB;AACA,iBAAKsL,KAAL,CAAWzP,GAAX,CAAe,UAAC6D,IAAD,EAAU;AACvBM,oBAAM,CAAC4E,IAAP,CAAY;AACVZ,sBAAM,EAAEtE,IAAI,CAAC9D,EADH;AAEVkE,sBAAM,EAAEA;AAFE,eAAZ;AAID,aALD;AAMA,iBAAKgQ,aAAL,CAAmBG,WAAnB,CAA+BjQ,MAA/B,EAAuCuB,SAAvC,CAAiD,YAAM;AACrD,qBAAI,CAAC+J,KAAL,GAAa,OAAI,CAACpG,WAAL,CAAiBgL,SAAjB,EAAb;;AACA,qBAAI,CAAClP,MAAL,CAAYQ,aAAZ,CAA0B,YAA1B;AACD,aAHD;AAID;;;;;;;yBA7BUqO,a,EAAa,yJ,EAAA,mI,EAAA,2I,EAAA,uH;AAAA,O;;;cAAbA,a;AAAa,6B;AAAA,gB;AAAA,e;AAAA,8J;AAAA;AAAA;ACX1B;;AACI;;AAAI;;AAAmB;;AACvB;;AAiBA;;AACJ;;;;AAlBS;;AAAA;;AAiBA;;AAAA;;;;;;;;;wEDRIA,a,EAAa;gBALzB,uDAKyB;iBALf;AACTxP,oBAAQ,EAAE,MADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTmB,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKe,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AESN;;AACI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA0B;;AAAc;;;;;;AAAd;;AAAA;;;;;;AAPtC;;AACI;;AAAI;;AAAoD;;AACxD;;AAAI;;AAAsB;;AAC1B;;AAAI;;;;AAAgC;;AACpC;;AAAI;;;;AAA8B;;AAClC;;AAAI;;;;AAAoC;;AACxC;;AAAI;;AACqD;;AAC7D;;;;;;;;AAPQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACQ;;AAAA;;;;ACf5B,UAAY0O,WAAZ;;AAAA,iBAAYA,WAAZ,EAAuB;AACrB;AACA;AACA;AACA;AACD,OALD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;;UAYaC,mB;AAMX,qCAAoBN,aAApB,EACUhO,cADV,EAC0C;AAAA;;AADtB,eAAAgO,aAAA,GAAAA,aAAA;AACV,eAAAhO,cAAA,GAAAA,cAAA;AANV,eAAA9B,MAAA,GAAkB,EAAlB;AAEA,eAAAmC,MAAA,GAAsBgO,WAAW,CAACE,IAAlC;AACA,eAAAC,UAAA,GAAqB,EAArB;AAIC;;;;qCAEO;AAAA;;AACN,iBAAKxO,cAAL,CAAoBE,MAApB,CAA2BT,SAA3B,CAAqC,UAACgP,WAAD,EAAyB;AAC5D,qBAAI,CAAC3D,IAAL,GAAY2D,WAAW,CAAC,MAAD,CAAvB;;AACA,kBAAI,OAAI,CAAC3D,IAAL,KAAc,MAAlB,EAA0B;AACxB,uBAAI,CAAC0D,UAAL,GAAkB,QAAlB;AACA,uBAAI,CAACnO,MAAL,GAAcgO,WAAW,CAACK,WAA1B;AACD,eAHD,MAGO,IAAI,OAAI,CAAC5D,IAAL,KAAc,MAAlB,EAA0B;AAC/B,uBAAI,CAAC0D,UAAL,GAAkB,SAAlB;AACA,uBAAI,CAACnO,MAAL,GAAcgO,WAAW,CAACM,UAA1B;AACD,eAHM,MAGA,IAAI,OAAI,CAAC7D,IAAL,KAAc,QAAlB,EAA4B;AACjC,uBAAI,CAAC0D,UAAL,GAAkB,UAAlB;AACA,uBAAI,CAACnO,MAAL,GAAcgO,WAAW,CAACO,WAA1B;AACD;;AACD,qBAAI,CAACC,SAAL;AACD,aAbD;AAcD;;;sCAEW;AAAA;;AACV,iBAAKb,aAAL,CAAmBc,OAAnB,GAA6BrP,SAA7B,CAAuC,UAACvB,MAAD,EAAY;AACjD,sBAAQ,OAAI,CAACmC,MAAb;AACE,qBAAKgO,WAAW,CAACM,UAAjB;AAA6B,yBAAI,CAACzQ,MAAL,GAAcA,MAAM,CAACsD,MAAP,CAAc,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAAC0F,MAAF,IAAY1F,CAAC,CAAC0F,MAAF,KAAa,+DAAY0B,QAAzC;AAAA,mBAAf,CAAd;AAAiF;;AAC9G,qBAAKwF,WAAW,CAACK,WAAjB;AAA8B,yBAAI,CAACxQ,MAAL,GAAcA,MAAM,CAACsD,MAAP,CAAc,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAAC0F,MAAF,IAAY1F,CAAC,CAAC0F,MAAF,KAAa,+DAAYwB,OAAzC;AAAA,mBAAf,CAAd;AAAgF;;AAC9G,qBAAK0F,WAAW,CAACO,WAAjB;AAA8B,yBAAI,CAAC1Q,MAAL,GAAcA,MAAM,CAACsD,MAAP,CAAc,UAAAC,CAAC;AAAA,2BAAIA,CAAC,CAAC0F,MAAF,IAAY1F,CAAC,CAAC0F,MAAF,KAAa,+DAAYyB,QAAzC;AAAA,mBAAf,CAAd;AAAiF;;AAC/G,qBAAKyF,WAAW,CAACE,IAAjB;AACA;AACE,yBAAI,CAACrQ,MAAL,GAAcA,MAAd;AAAsB;AAN1B;AAQD,aATD;AAUD;;;mCAEc6Q,K,EAAc;;;;;;;;;AAE3B,0BAAI,KAAK1O,MAAL,KAAgBgO,WAAW,CAACK,WAAhC,EAA6C;AAC3CrO,8BAAM,GAAG,KAAK2N,aAAL,CAAmBgB,SAAnB,CAA6B,CAACD,KAAK,CAACjV,EAAP,CAA7B,EAAyCuB,SAAzC,EAAT;AACD,uBAFD,MAEO,IAAI,KAAKgF,MAAL,KAAgBgO,WAAW,CAACM,UAAhC,EAA4C;AACjDtO,8BAAM,GAAG,KAAK2N,aAAL,CAAmBiB,WAAnB,CAA+B,CAACF,KAAK,CAACjV,EAAP,CAA/B,EAA2CuB,SAA3C,EAAT;AACD,uBAFM,MAEA,IAAI,KAAKgF,MAAL,KAAgBgO,WAAW,CAACO,WAAhC,EAA6C;AAClDvO,8BAAM,GAAG,KAAK2N,aAAL,CAAmBkB,gBAAnB,CAAoC,CAACH,KAAK,CAACjV,EAAP,CAApC,EAAgDuB,SAAhD,EAAT;AACD;;AACD,0BAAI,KAAKgF,MAAL,KAAgBgO,WAAW,CAACE,IAAhC,EAAsC;AACpClO,8BAAM,CAAC9G,IAAP,CAAY,YAAM;AAChB,iCAAI,CAACsV,SAAL;AACD,yBAFD;AAGD;;;;;;;;;AACF;;;;;;;yBAtDUP,mB,EAAmB,mI,EAAA,+H;AAAA,O;;;cAAnBA,mB;AAAmB,oC;AAAA,iB;AAAA,e;AAAA,sM;AAAA;AAAA;ADjBhC;;AACI;;AAAI;;AAAM;;AACV;;AACI;;AACI;;AACI;;AAAI;;AAAY;;AAChB;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAM;;AACV;;AACJ;;AACJ;;AACA;;AACI;;AASJ;;AACJ;;AACJ;;;;AAXgB;;AAAA;;;;;;;;;;wECGHA,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACT/P,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTmB,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;ACjBhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACkBoB;;AACI;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAO;;;;;;AANhD;;AACI;;AAAI;;AAAsB;;AAC1B;;AAAI;;;;AAAgC;;AACpC;;AAAI;;;;AAA8B;;AAClC;;AAAI;;;;AAAoC;;AACxC;;AAAI;;AACiD;;AACzD;;;;;;AANQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACQ;;AAAA;;;;UDTfwP,mB;AAGX,qCAAoBnB,aAApB,EAA0D7O,qBAA1D,EAAwG;AAAA;;AAApF,eAAA6O,aAAA,GAAAA,aAAA;AAAsC,eAAA7O,qBAAA,GAAAA,qBAAA;AAF1D,eAAAjB,MAAA,GAAkB,EAAlB;AAE2G;;;;qCAEnG;AACN,iBAAK2Q,SAAL;AACD;;;sCAEW;AAAA;;AACV,gBAAM7Q,MAAM,GAAG,KAAKmB,qBAAL,CAA2Bb,gBAA3B,CAA4CxE,EAA3D;AACA,iBAAKkU,aAAL,CAAmBoB,aAAnB,CAAiCpR,MAAjC,EAAyCyB,SAAzC,CAAmD,UAACvB,MAAD,EAAY;AAC7D,qBAAI,CAACA,MAAL,GAAcA,MAAd;AACD,aAFD;AAGD;;;sCAEW6Q,K,EAAc;AAAA;;AACxB,gBAAM/Q,MAAM,GAAG,KAAKmB,qBAAL,CAA2Bb,gBAA3B,CAA4CxE,EAA3D;AACA,iBAAKkU,aAAL,CAAmBqB,YAAnB,CAAgCrR,MAAhC,EAAwC,CAAC+Q,KAAK,CAACjV,EAAP,CAAxC,EAAoD2F,SAApD,CAA8D,YAAM;AAClE,qBAAI,CAACoP,SAAL;AACD,aAFD;AAGD;;;;;;;yBArBUM,mB,EAAmB,mI,EAAA,2I;AAAA,O;;;cAAnBA,mB;AAAmB,oC;AAAA,iB;AAAA,e;AAAA,sM;AAAA;AAAA;ACThC;;AACI;;AAAI;;AAAU;;AACd;;AACI;;AACI;;AACI;;AAAI;;AAAQ;;AACZ;;AAAI;;AAAc;;AAClB;;AAAI;;AAAa;;AACjB;;AAAI;;AAAM;;AACV;;AACJ;;AACJ;;AACA;;AACI;;AAQJ;;AACJ;;AACJ;;;;AAVgB;;AAAA;;;;;;;;;;wEDJHA,mB,EAAmB;gBAL/B,uDAK+B;iBALrB;AACT5Q,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTmB,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKqB,U;;;;;;;;;;;;;;;;;;;;;;;;AEThC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA;AACA,UAAM2P,QAAQ,GAAG,kGAAjB;AACAA,cAAQ,CAACC,eAAT,CAAyB,yDAAzB","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","export { Attachment } from './models/attachment';\r\nexport { AttachmentType } from './models/attachment-type';\r\nexport { AuthenticateRequest } from './models/authenticate-request';\r\nexport { Author } from './models/author';\r\nexport { Book } from './models/book';\r\nexport { BookAuthor } from './models/book-author';\r\nexport { BookGenre } from './models/book-genre';\r\nexport { DisplayBook } from './models/display-book';\r\nexport { Genre } from './models/genre';\r\nexport { Order } from './models/order';\r\nexport { OrderStatus } from './models/order-status';\r\nexport { RegistrationRequest } from './models/registration-request';\r\nexport { Role } from './models/role';\r\nexport { User } from './models/user';\r\nexport { UserResponse } from './models/user-response';\r\n","export enum AttachmentType {\r\n    BookAttachment = 1,\r\n    AuthorAttachment = 2\r\n}","export enum OrderStatus {\r\n    Waiting = 1,\r\n    Accepted = 2,\r\n    Returned = 3\r\n}","export enum Role {\r\n    Administrator = 1,\r\n    Librarian = 2,\r\n    Storekeeper = 3,\r\n    Reader = 4\r\n}","export { AttachmentsService } from './services/attachments.service';\r\nexport { AuthenticationService } from './services/authentication.service';\r\nexport { AuthorsService } from './services/authors.service';\r\nexport { BooksService } from './services/books.service';\r\nexport { GenresService } from './services/genres.service';\r\nexport { OrdersService } from './services/orders.service';\r\nexport { UsersService } from './services/users.service';","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AttachmentsService {\r\n    private baseUrl = 'api/attachments';\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    uploadBlob(file: File): Observable<number> {\r\n        const formData: FormData = new FormData();\r\n        formData.append('file', file);\r\n        return this.http.post<number>(`${this.baseUrl}/upload`, formData);\r\n    }\r\n\r\n    getBlob(id: number): Observable<Blob> {\r\n        return this.http.get(`${this.baseUrl}/${id}`, { responseType: 'blob' });\r\n    }\r\n\r\n    async getImageUrl(blobId: number): Promise<string> {\r\n        const blob = await this.getBlob(blobId).toPromise();\r\n        return this.createImageFromBlob(blob).pipe(map(res => res as string)).toPromise();\r\n    }\r\n\r\n    private createImageFromBlob(image: Blob): Observable<string | ArrayBuffer> {\r\n        const reader = new FileReader();\r\n        const fileReaderObs: Observable<string | ArrayBuffer> = Observable.create((observer: BehaviorSubject<string | ArrayBuffer>) => {\r\n            reader.onload = function () {\r\n                observer.next(reader.result);\r\n                observer.complete();\r\n            }\r\n        })\r\n        if (image) {\r\n            reader.readAsDataURL(image);\r\n        }\r\n        return fileReaderObs\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { UserResponse, AuthenticateRequest, RegistrationRequest, Role } from '../models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService {\r\n    private url = 'api/auth';\r\n    private currentUserSubject: BehaviorSubject<UserResponse>;\r\n    public currentUser: Observable<UserResponse>;\r\n\r\n    public get currentUserValue(): UserResponse {\r\n        return this.currentUserSubject.value;\r\n    }\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.currentUserSubject = new BehaviorSubject<UserResponse>(JSON.parse(localStorage.getItem('currentUser')));\r\n        this.currentUser = this.currentUserSubject.asObservable();\r\n    }\r\n\r\n    authenticate(request: AuthenticateRequest): Observable<UserResponse> {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http\r\n            .post(this.url + '/authenticate', JSON.stringify(request), { headers })\r\n            .pipe(map((response: UserResponse) => {\r\n                if (response && response.token) {\r\n                    localStorage.setItem('currentUser', JSON.stringify(response));\r\n                    this.currentUserSubject.next(response);\r\n                }\r\n                return response;\r\n            }));\r\n    }\r\n\r\n    registration(request: RegistrationRequest): Observable<UserResponse> {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http\r\n            .post(this.url + '/registration', JSON.stringify(request), { headers })\r\n            .pipe(map((response: UserResponse) => {\r\n                if (response && response.token) {\r\n                    localStorage.setItem('currentUser', JSON.stringify(response));\r\n                    this.currentUserSubject.next(response);\r\n                }\r\n                return response;\r\n            }));\r\n    }\r\n\r\n    logout(): void {\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n    }\r\n\r\n    checkAccess(roles: Role[]): Observable<boolean> {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post<boolean>(this.url + '/checkAccess', JSON.stringify(roles), { headers });\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Author } from '../models/author';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthorsService {\r\n    private url = 'api/authors';\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getAuthors(): Observable<Author[]> {\r\n        return this.http.get<Author[]>(this.url);\r\n    }\r\n\r\n    getAuthor(id: number): Observable<Author> {\r\n        return this.http.get<Author>(`${this.url}/${id}`);\r\n    }\r\n\r\n    createAuthor(author: Author) {\r\n        return this.http.post(this.url, author);\r\n    }\r\n\r\n    updateAuthor(author: Author) {\r\n        return this.http.put(this.url, author);\r\n    }\r\n\r\n    deleteAuthor(id: number) {\r\n        return this.http.delete(`${this.url}/${id}`);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Book } from '../models/book';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BooksService {\r\n    private url = 'api/books';\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getBooks(): Observable<Book[]> {\r\n        return this.http.get<Book[]>(this.url);\r\n    }\r\n\r\n    getBook(id: number): Observable<Book> {\r\n        return this.http.get<Book>(`${this.url}/${id}`);\r\n    }\r\n\r\n    createBook(book: Book): Observable<number> {\r\n        return this.http.post<number>(this.url, book);\r\n    }\r\n\r\n    updateBook(book: Book) {\r\n        return this.http.put(this.url, book);\r\n    }\r\n\r\n    deleteBook(id: number) {\r\n        return this.http.delete(`${this.url}/${id}`);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Genre } from '../models/Genre';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class GenresService {\r\n    private url = 'api/genres';\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getGenres(): Observable<Genre[]> {\r\n        return this.http.get<Genre[]>(this.url);\r\n    }\r\n\r\n    getGenre(id: number): Observable<Genre> {\r\n        return this.http.get<Genre>(`${this.url}/${id}`);\r\n    }\r\n\r\n    createGenre(genre: Genre) {\r\n        return this.http.post(this.url, genre);\r\n    }\r\n\r\n    updateGenre(genre: Genre) {\r\n        return this.http.put(this.url, genre);\r\n    }\r\n\r\n    deleteGenre(id: number) {\r\n        return this.http.delete(`${this.url}/${id}`);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Order } from '../models/order';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class OrdersService {\r\n    private url = 'api/orders';\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getList(): Observable<Order[]> {\r\n        return this.http.get<Order[]>(`${this.url}/list`);\r\n    }\r\n\r\n    getUserOrders(userId: number): Observable<Order[]> {\r\n        return this.http.get<Order[]>(`${this.url}/user-orders/${userId}`);\r\n    }\r\n\r\n    get(id: number): Observable<Order> {\r\n        return this.http.get<Order>(`${this.url}/${id}`);\r\n    }\r\n\r\n    closeOrders(ids: number[]) {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post(`${this.url}/close-orders`, JSON.stringify(ids), { headers });\r\n    }\r\n\r\n    extendOrdersDate(ids: number[]) {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post(`${this.url}/extend-orders`, JSON.stringify(ids), { headers });\r\n    }\r\n\r\n    addOrders(ids: number[]) {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post(`${this.url}/add-orders`, JSON.stringify(ids), { headers });\r\n    }\r\n\r\n    placeOrders(orders: Order[]) {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post(`${this.url}/place-orders`, JSON.stringify(orders), { headers });\r\n    }\r\n\r\n    returnOrders(userId: number, ids: number[]) {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append('Content-Type', 'application/json');\r\n        return this.http.post(`${this.url}/return-orders/${userId}`, JSON.stringify(ids), { headers });\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from '../models';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UsersService {\r\n    private url = 'api/users';\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    getAll(): Observable<User[]> {\r\n        return this.http.get<User[]>(`${this.url}`);\r\n    }\r\n\r\n    getById(id: number): Observable<User> {\r\n        return this.http.get<User>(`${this.url}/${id}`);\r\n    }\r\n}","import { Component } from '@angular/core';\r\nimport { UserResponse } from './api/models';\r\nimport { AuthenticationService } from './api/services';\r\n\r\n@Component({\r\n    selector: 'app',\r\n    templateUrl: './app.component.html'\r\n})\r\nexport class AppComponent {\r\n\r\n    public get currentUser(): UserResponse {\r\n        return this.authService && this.authService.currentUserValue ? this.authService.currentUserValue : null;\r\n    }\r\n\r\n    constructor(private authService: AuthenticationService) { }\r\n}","<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n            <li class=\"nav-item\">\r\n                <a class=\"nav-link\" routerLink=\"/\">Главная</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a class=\"nav-link\" routerLink=\"/authors\"\r\n                    *ngIf=\"(currentUser | isAdmin) || (currentUser | isStorekeeper)\">Авторы</a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a class=\"nav-link\" routerLink=\"/genres\"\r\n                    *ngIf=\"(currentUser | isAdmin) || (currentUser | isStorekeeper)\">Жанры</a>\r\n            </li>\r\n        </ul>\r\n        <div class=\"navbar-nav d-flex flex-row\">\r\n            <user-menu></user-menu>\r\n        </div>\r\n    </div>\r\n</nav>\r\n<div class=\"container body-content\">\r\n    <router-outlet></router-outlet>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AppComponent } from './app.component';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { BooksListComponent } from './books/books-list/books-list.component';\r\nimport { NotFoundComponent } from './exceptions/not-found/not-found.component';;\r\nimport { LoginComponent } from './authentication/login/login.component';\r\nimport { RegistrationComponent } from './authentication/registration/registration.component';\r\nimport { UserMenuComponent } from './menu/user-menu/user-menu.component';\r\nimport { UserOrdersComponent } from './orders/user-orders/user-orders.component'\r\nimport { AppRoutesModule } from './infrastructure/app-routes.module';\r\nimport { ErrorInterceptor } from './infrastructure/interceptors/error.interceptor';\r\nimport { JwtInterceptor } from './infrastructure/interceptors/jwt.interceptor';\r\nimport { RoleTitle, IsAdmin, IsStorekeeper, IsLibrarian } from './infrastructure/pipes/role.pipe';\r\nimport { OrderStatusTitle } from './infrastructure/pipes/order.pipe';\r\nimport { FormatDate } from './infrastructure/pipes/date.pipe';\r\nimport { SearchFilter } from './infrastructure/pipes/search.pipe';\r\nimport { CartComponent } from './orders/cart/cart.component';\r\nimport { BookPageComponent } from './books/book-page/book-page.component';\r\nimport { BookEditComponent } from './books/book-edit/book-edit.component'\r\nimport { OrdersListComponent } from './orders/orders-list/orders-list.component';\r\nimport { AuthorsListComponent } from './authors/authors-list/authors-list.component';\r\nimport { AuthorEditComponent } from './authors/author-edit/author-edit.component';\r\nimport { GenresListComponent } from './genres/genres-list/genres-list.component';\r\nimport { GenreEditComponent } from './genres/genre-edit/genre-edit.component';\r\nimport { TagboxComponent } from './items/tagbox/tagbox.component';\r\nimport { CarouselComponent } from './items/carousel/carousel.component';\r\nimport { FileUploaderComponent } from './items/file-uploader/file-uploader.component';\r\nimport { SafeImagePipe } from './infrastructure/pipes/image.pipe';\r\nimport { ForbidComponent } from './exceptions/forbid/forbid.component';\r\nimport { ModalComponent } from './items/modal/modal.component';\r\nimport { PaginationComponent } from './items/pagination/pagination.component'\r\n@NgModule({\r\n    imports: [\r\n        BrowserModule,\r\n        FormsModule,\r\n        HttpClientModule,\r\n        AppRoutesModule\r\n    ],\r\n    declarations: [\r\n        AppComponent,\r\n        BooksListComponent,\r\n        NotFoundComponent,\r\n        LoginComponent,\r\n        RegistrationComponent,\r\n        UserMenuComponent,\r\n        UserOrdersComponent,\r\n        RoleTitle,\r\n        IsAdmin,\r\n        IsStorekeeper,\r\n        IsLibrarian,\r\n        OrderStatusTitle,\r\n        FormatDate,\r\n        SearchFilter,\r\n        SafeImagePipe,\r\n        CartComponent,\r\n        BookPageComponent,\r\n        BookEditComponent,\r\n        OrdersListComponent,\r\n        AuthorsListComponent,\r\n        AuthorEditComponent,\r\n        GenresListComponent,\r\n        GenreEditComponent,\r\n        TagboxComponent,\r\n        CarouselComponent,\r\n        FileUploaderComponent,\r\n        ForbidComponent,\r\n        ModalComponent,\r\n        PaginationComponent\r\n    ],\r\n    providers: [\r\n        { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n        { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true }\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from '../../api/services';\n\n@Component({\n  selector: 'login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  login: string;\n  password: string;\n\n  constructor(private router: Router,\n    private authenticationService: AuthenticationService) { }\n\n  ngOnInit(): void {\n  }\n\n  authenticate(form: NgForm) {\n    if (form.valid) {\n      this.authenticationService.authenticate({ login: this.login, password: this.password }).subscribe(() => {\n        this.router.navigateByUrl('/');\n      });\n    }\n  }\n}","<div class=\"w-25 m-auto\">\n    <div>\n        <form novalidate #form=\"ngForm\" (ngSubmit)=\"authenticate(form)\">\n            <div class=\"form-group\">\n                <label>Логин</label>\n                <input class=\"form-control\" name=\"login\" [(ngModel)]=\"login\" #loginInput=\"ngModel\" required />\n                <div class=\"text-danger\" *ngIf=\"loginInput.touched && loginInput.errors?.required\">\n                    Необходимо ввести логин\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Пароль</label>\n                <input class=\"form-control\" name=\"password\" type=\"password\" [(ngModel)]=\"password\"\n                    #passwordInput=\"ngModel\" required />\n                <div class=\"text-danger\" *ngIf=\"passwordInput.touched && passwordInput.errors?.required\">\n                    Необходимо ввести пароль\n                </div>\n            </div>\n            <div class=\"text-xs-center\">\n                <button class=\"btn btn-primary\" [disabled]=\"form.invalid || form.pending\" type=\"submit\">Вход</button>\n            </div>\n        </form>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from 'src/app/api/services';\nimport { RegistrationRequest } from 'src/app/api/models';\n\n@Component({\n  selector: 'registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.css']\n})\nexport class RegistrationComponent implements OnInit {\n  request: RegistrationRequest = {};\n\n  constructor(private authenticationService: AuthenticationService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n\n  registration(request) {\n      this.authenticationService.registration(request).subscribe(() => {\n        this.router.navigateByUrl('/');\n      });\n  }\n}\n","<div class=\"w-25 m-auto\">\n    <div>\n        <form novalidate #form=\"ngForm\" (ngSubmit)=\"registration(request)\">\n            <div class=\"form-group\">\n                <label>Фамилия</label>\n                <input class=\"form-control\" name=\"lastName\" [(ngModel)]=\"request.lastName\" #lastName=\"ngModel\"\n                    required />\n                <div class=\"text-danger\" *ngIf=\"lastName.touched && lastName.errors?.required\">\n                    Необходимо ввести фамилию\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Имя</label>\n                <input class=\"form-control\" name=\"firstName\" [(ngModel)]=\"request.firstName\" #firstName=\"ngModel\"\n                    required />\n                <div class=\"text-danger\" *ngIf=\"firstName.touched && firstName.errors?.required\">\n                    Необходимо ввести имя\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Email</label>\n                <input class=\"form-control\" name=\"email\" type=\"email\" [(ngModel)]=\"request.email\" #email=\"ngModel\"\n                    required email />\n                <div class=\"text-danger\" *ngIf=\"email.touched && email.errors?.required\">\n                    Необходимо ввести почту\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Логин</label>\n                <input class=\"form-control\" name=\"login\" [(ngModel)]=\"request.login\" #login=\"ngModel\" required />\n                <div class=\"text-danger\" *ngIf=\"login.touched && login.errors?.required\">\n                    Необходимо ввести логин\n                </div>\n            </div>\n            <div class=\"form-group\">\n                <label>Пароль</label>\n                <input class=\"form-control\" name=\"password\" type=\"password\" [(ngModel)]=\"request.password\"\n                    #password=\"ngModel\" required />\n                <div class=\"text-danger\" *ngIf=\"password.touched && password.errors?.required\">\n                    Необходимо ввести пароль\n                </div>\n            </div>\n            <div class=\"text-xs-center\">\n                <button class=\"btn btn-primary\" [disabled]=\"form.invalid || form.pending\"\n                    type=\"submit\">Зарегистрироваться</button>\n            </div>\n        </form>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Author } from 'src/app/api/models';\nimport { AuthorsService } from 'src/app/api/services';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'author-edit',\n  templateUrl: './author-edit.component.html',\n  styleUrls: ['./author-edit.component.css']\n})\nexport class AuthorEditComponent implements OnInit {\n  id?: number;\n  isNew: boolean;\n  author: Author = {};\n\n  constructor(private authorsService: AuthorsService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute) {\n    this.id = activatedRoute.snapshot.params['id'];\n    this.isNew = !this.id;\n  }\n\n  async ngOnInit() {\n    this.author = !this.isNew\n      ? await this.authorsService.getAuthor(this.id).toPromise()\n      : {};\n  }\n\n  async save() {\n    let action: Promise<any>;\n    if (this.isNew) {\n      action = this.authorsService.createAuthor(this.author).toPromise();\n    } else {\n      action = this.authorsService.updateAuthor(this.author).toPromise();\n    }\n    await action.then(() => {\n      this.router.navigateByUrl('/authors');\n    });\n  }\n}\n","<h4>{{isNew ? 'Добавление' : 'Редактирование'}}</h4>\n<form #form=\"ngForm\" novalidate (ngSubmit)=\"save()\">\n    <div class=\"form-group\">\n        <label>ФИО</label>\n        <input class=\"form-control\" name=\"fio\" [(ngModel)]=\"author.fio\" />\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary mr-1 ml-1\">Сохранить</button>\n    <button type=\"submit\" class=\"btn btn-secondary mr-1 ml-1\" routerLink=\"/authors\">Отмена</button>\n</form>","import { Component, OnInit } from '@angular/core';\nimport { Author } from 'src/app/api/models';\nimport { AuthorsService } from 'src/app/api/services';\n\n@Component({\n  selector: 'authors-list',\n  templateUrl: './authors-list.component.html',\n  styleUrls: ['./authors-list.component.css']\n})\nexport class AuthorsListComponent implements OnInit {\n  authors: Author[] = [];\n\n  constructor(private authorsService: AuthorsService) { }\n\n  ngOnInit(): void {\n    this.loadAuthors();\n  }\n\n  loadAuthors() {\n    this.authorsService.getAuthors().subscribe((authors) => {\n      this.authors = authors;\n    });\n  }\n\n  delete(author: Author) {\n    if (confirm('Удалить автора?')) {\n      this.authorsService.deleteAuthor(author.id).subscribe(() => {\n        this.loadAuthors();\n      })\n    }\n  }\n}\n","<div>\n    <h1>Список авторов</h1>\n    <a class=\"btn btn-primary\" [routerLink]=\"'/author/create'\">Добавить</a>\n    <table class=\"table table-striped\">\n        <thead>\n            <tr>\n                <td>ФИО</td>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let a of authors\">\n                <td>{{a?.fio}}</td>\n                <td><a class=\"btn btn-primary mr-1 ml-1\" [routerLink]=\"'/author/'+a?.id+'/edit'\">Редактировать</a>\n                    <button class=\"btn btn-primary mr-1 ml-1\" (click)=\"delete(a)\">Удалить</button></td>\n            </tr>\n        </tbody>\n    </table>\n</div>","<h4>{{isNew ? 'Добавление' : 'Редактирование'}}</h4>\n<form #form=\"ngForm\" novalidate (submit)=\"save()\">\n  <div class=\"form-group\">\n    <label>Название</label>\n    <input class=\"form-control\" name=\"title\" [(ngModel)]=\"book.title\" required />\n  </div>\n  <div class=\"form-group\">\n    <label>Авторы</label>\n    <tagbox #authorsTagBox [dataSource]=\"authors\" [preSelected]=\"book.bookAuthors\" [preSelectedKeyField]=\"'authorId'\"\n      [keyField]=\"'id'\" [displayField]=\"'fio'\"></tagbox>\n  </div>\n  <div class=\"form-group\">\n    <label>Жанры</label>\n    <tagbox #genresTagBox [dataSource]=\"genres\" [preSelected]=\"book.bookGenres\" [preSelectedKeyField]=\"'genreId'\"\n      [keyField]=\"'id'\" [displayField]=\"'title'\"></tagbox>\n  </div>\n  <div class=\"form-group\">\n    <label>Количество</label>\n    <input class=\"form-control\" name=\"count\" [(ngModel)]=\"book.count\" type=\"number\" min=\"0\" required />\n  </div>\n  <div *ngIf=\"book.attachments && book.attachments.length > 0\" class=\"form-group\">\n    <label>Имеющиеся вложения</label>\n    <div class=\"mb-2\" style=\"display: flex;\">\n      <div *ngFor=\"let i of book.attachments\">\n        <div class=\"mr-2\">\n          <span>{{i.name}}{{i.isMain ? '(обложка)' : ''}}</span>\n          <span (click)=\"removeAttachment(i.id)\" class=\"badge badge-secondary\"> X </span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"form-group\">\n    <label>Добавить обложку</label>\n    <div class=\"form-control\">\n      <file-uploader #coverFileInput [mode]=\"'single'\"></file-uploader>\n    </div>\n  </div>\n  <div class=\"form-group\">\n    <label>Добавить примеры страниц</label>\n    <div class=\"form-control\">\n      <file-uploader #pagesFileInput [mode]=\"'multiple'\"></file-uploader>\n    </div>\n  </div>\n  <button type=\"submit\" class=\"btn btn-primary mr-1 ml-1\">Сохранить</button>\n  <button type=\"submit\" class=\"btn btn-secondary mr-1 ml-1\" routerLink=\"/\">Отмена</button>\n</form>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BooksService, AuthorsService, GenresService } from 'src/app/api/services';\nimport { Book, Author, Genre, BookGenre, BookAuthor, Attachment, AttachmentType } from 'src/app/api/models';\nimport { TagboxComponent } from 'src/app/items/tagbox/tagbox.component';\nimport { FileUploaderComponent } from 'src/app/items/file-uploader/file-uploader.component';\n\n@Component({\n  selector: 'book-edit',\n  templateUrl: './book-edit.component.html',\n  styleUrls: ['./book-edit.component.css']\n})\nexport class BookEditComponent implements OnInit {\n  id?: number;\n  isNew: boolean;\n  book: Book = {};\n  authors: Author[] = [];\n  genres: Genre[] = [];\n\n  @ViewChild('authorsTagBox') authorsTagBox: TagboxComponent;\n  @ViewChild('genresTagBox') genresTagBox: TagboxComponent;\n  @ViewChild('coverFileInput') coverFileInput: FileUploaderComponent;\n  @ViewChild('pagesFileInput') pagesFileInput: FileUploaderComponent;\n\n  constructor(private booksService: BooksService,\n    private authorsService: AuthorsService,\n    private genresService: GenresService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute) {\n    this.id = activatedRoute.snapshot.params['id'];\n    this.isNew = !this.id;\n  }\n\n  async ngOnInit() {\n    this.book = !this.isNew\n      ? await this.booksService.getBook(this.id).toPromise()\n      : { count: 0, attachments: [] };\n    this.authors = await this.authorsService.getAuthors().toPromise();\n    this.genres = await this.genresService.getGenres().toPromise();\n  }\n\n  removeAttachment(key) {\n    this.book.attachments = this.book.attachments.filter(x => x.id != key);\n  }\n\n  async save() {\n    let action: Promise<any>;\n    const selectedAuthors = <Author[]>this.authorsTagBox.getSelectedItems();\n    const selectedGenres = <Genre[]>this.genresTagBox.getSelectedItems();\n    const book: Book = {\n      id: !this.isNew ? this.book.id : 0,\n      title: this.book.title,\n      count: this.book.count,\n      bookAuthors: selectedAuthors.map(x => <BookAuthor>{ authorId: x.id, bookId: this.book.id }),\n      bookGenres: selectedGenres.map(x => <BookGenre>{ genreId: x.id, bookId: this.book.id }),\n      attachments: this.book.attachments\n    };\n\n    if (this.coverFileInput.uploadedBlobs && this.coverFileInput.uploadedBlobs.length > 0) {\n      book.attachments.map(x => x.isMain = false);\n    }\n\n    const attachments = this.coverFileInput.uploadedBlobs.map(x => <Attachment>{\n      name: x.fileName,\n      type: AttachmentType.BookAttachment,\n      isMain: true,\n      isPreview: false,\n      blobId: x.blobId\n    });\n    attachments.push(...this.pagesFileInput.uploadedBlobs.map(x => <Attachment>{\n      name: x.fileName,\n      type: AttachmentType.BookAttachment,\n      isMain: false,\n      isPreview: false,\n      blobId: x.blobId\n    }));\n\n    book.attachments.push(...attachments);\n\n    if (this.isNew) {\n      action = this.booksService.createBook(book).toPromise();\n    } else {\n      action = this.booksService.updateBook(book).toPromise();\n    }\n    await action.then((data) => {\n      const id = this.isNew && data ? data : this.id;\n      this.router.navigateByUrl(`/book/${id}`);\n    });\n  }\n\n}\n","<div class=\"container\">\n        <div class=\"row\">\n                <div class=\"col-6 pic-preview mr-5 mb-2\">\n                        <div class=\"row\">\n                                <img class=\"pic-preview\" [src]=\"book.coverUrl | safeImage\"\n                                        *ngIf=\"book.coverUrl; else noImageFound\" (click)=\"openModal('pages-modal')\"\n                                        style=\"cursor: pointer;\" />\n                                <ng-template #noImageFound>\n                                        <img class=\"pic-preview\" src=\"assets/doge.jpg\">\n                                </ng-template>\n                        </div>\n                        <div *ngIf=\"book.pageExampleBlobIds && book.pageExampleBlobIds.length > 0\" class=\"row\">\n                                <a class=\"mx-auto btn\"\n                                        (click)=\"openModal('pages-modal')\">({{book.pageExampleBlobIds.length}})</a>\n                        </div>\n                </div>\n                <div class=\"col-6\">\n                        <h3>Название</h3>\n                        <p>{{book.title}}</p>\n                        <h3>Автор(-ы)</h3>\n                        <p>{{book.authors}}</p>\n                        <h3>Жанр(-ы)</h3>\n                        <p>{{book.genres}}</p>\n                        <div *ngIf=\"currentUser\">\n                                <button *ngIf=\"book.count > 0 && !cartService.alreadyInCart(book)\"\n                                        class=\"btn btn-primary\" (click)=\"addToCart(book)\">Взять</button>\n                                <span *ngIf=\"cartService.alreadyInCart(book)\">В корзине</span>\n                        </div>\n                </div>\n        </div>\n</div>\n\n<modal id=\"pages-modal\">\n        <carousel [dataSource]=\"book.pageExampleBlobIds\"></carousel>\n</modal>","import { Component, OnInit } from '@angular/core';\nimport { BooksService, AuthenticationService, AttachmentsService } from 'src/app/api/services';\nimport { ActivatedRoute } from '@angular/router';\nimport { Book, DisplayBook, UserResponse } from 'src/app/api/models';\nimport { CartService } from 'src/app/infrastructure/services/cart.service';\nimport { ModalService } from 'src/app/infrastructure/services/modal.service';\n\n@Component({\n  selector: 'book-page',\n  templateUrl: './book-page.component.html',\n  styleUrls: ['./book-page.component.css']\n})\nexport class BookPageComponent implements OnInit {\n  id: number;\n  book: DisplayBook = {};\n\n  public get currentUser(): UserResponse {\n    return this.authService && this.authService.currentUserValue ? this.authService.currentUserValue : null;\n  }\n\n  constructor(private booksService: BooksService,\n    private authService: AuthenticationService,\n    public cartService: CartService,\n    private activatedRoute: ActivatedRoute,\n    private attachService: AttachmentsService,\n    private modalService: ModalService) {\n    this.id = activatedRoute.snapshot.params['id'];\n  }\n\n  async ngOnInit() {\n    const bookResult = await this.booksService.getBook(this.id).toPromise();\n    this.book = {\n      id: bookResult.id,\n      title: bookResult.title,\n      count: bookResult.count,\n      authors: bookResult.bookAuthors.map(x => x.author && x.author.fio).join(','),\n      genres: bookResult.bookGenres.map(x => x.genre && x.genre.title).join(',')\n    };\n    bookResult.attachments.sort((a, b) => { if (a.isMain) return 1; });\n    this.book.pageExampleBlobIds = bookResult.attachments.map(x => x.blobId);\n    const coverAttach = bookResult.attachments.find(x => x.isMain);\n    if (coverAttach && coverAttach.blobId) {\n      this.attachService.getImageUrl(coverAttach.blobId).then((url) => {\n        this.book.coverUrl = url;\n      });\n    }\n  }\n\n  addToCart(book: Book) {\n    this.cartService.addToCart(book);\n  }\n\n  openModal(id: string) {\n    this.modalService.open(id);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BooksService } from '../../api/services/books.service';\nimport { Book } from '../../api/models/book';\nimport { AuthenticationService, AttachmentsService } from 'src/app/api/services';\nimport { CartService } from '../../infrastructure/services/cart.service';\nimport { UserResponse, DisplayBook } from 'src/app/api/models';\n\n@Component({\n  selector: 'books-list',\n  templateUrl: './books-list.component.html',\n  styleUrls: ['./books-list.component.css']\n})\nexport class BooksListComponent implements OnInit {\n  data: DisplayBook[];\n  displayBooks: DisplayBook[];\n  searchText: string = '';\n  booksCount: number;\n  pageSize: number = 5;\n  pagination: any;\n\n  public get currentUser(): UserResponse {\n    return this.authService && this.authService.currentUserValue ? this.authService.currentUserValue : null;\n  }\n\n  constructor(private booksService: BooksService,\n    private authService: AuthenticationService,\n    private attachService: AttachmentsService,\n    public cartService: CartService) {\n  }\n\n  ngOnInit() {\n    this.loadBooks();\n  }\n\n  loadBooks() {\n    this.booksService.getBooks().subscribe((data: Book[]) => {\n      this.data = data.map((book) => {\n        let bookItem = <DisplayBook>{\n          id: book.id,\n          title: book.title,\n          count: book.count,\n          authors: book.bookAuthors.map(x => x.author && x.author.fio).join(','),\n          genres: book.bookGenres.map(x => x.genre && x.genre.title).join(','),\n        }\n        const coverAttach = book.attachments.find(x => x.isMain);\n        if (coverAttach && coverAttach.blobId) {\n          this.attachService.getImageUrl(coverAttach.blobId).then((url) => {\n            bookItem.coverUrl = url;\n          });\n        }\n        return bookItem;\n      });\n      this.booksCount = this.data.length;\n      this.goToPage(1);\n    });\n  }\n\n  addToCart(book: Book) {\n    this.cartService.addToCart(book);\n    alert('Добавлено в корзину!');\n  }\n\n  delete(book: Book) {\n    if (confirm('Удалить книгу?')) {\n      this.booksService.deleteBook(book.id).subscribe(() => {\n        this.loadBooks();\n      });\n    }\n  }\n\n  goToPage(page: number): void {\n    this.displayBooks = this.applySearchFilter();\n    this.booksCount = this.displayBooks.length;\n    this.displayBooks = this.displayBooks\n      .slice((page - 1) * this.pageSize, (page - 1) * this.pageSize + this.pageSize);\n  }\n\n  applySearchFilter(): Book[] {\n    if (!this.searchText) {\n      return this.data;\n    }\n    const searchStr = this.searchText.toLowerCase();\n    return this.data.filter(item => item.title.toLowerCase().includes(searchStr)\n      || item.authors.toLowerCase().includes(searchStr)\n      || item.genres.toLowerCase().includes(searchStr));\n  }\n}\n","<div>\n    <h1>Список книг</h1>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-4\">\n                <input [(ngModel)]=\"searchText\" placeholder=\"Поиск...\" class=\"form-control\" (keyup)=\"goToPage(1)\" />\n            </div>\n            <div class=\"col-4\">\n                <pagination [pageSize]=\"pageSize\" [itemsCount]=\"booksCount\" (goToPage)=\"goToPage($event)\"></pagination>\n            </div>\n            <div class=\"col-4\">\n                <a *ngIf=\"(currentUser | isAdmin) || (currentUser | isStorekeeper)\" class=\"btn btn-primary float-right\"\n                    [routerLink]=\"'/book/create'\">Добавить</a>\n            </div>\n        </div>\n    </div>\n    <table class=\"table table-striped mt-2\">\n        <thead>\n            <tr>\n                <td></td>\n                <td>Название</td>\n                <td>Авторы</td>\n                <td>Жанры</td>\n                <td>Количество</td>\n                <td *ngIf=\"currentUser\"></td>\n                <td *ngIf=\"(currentUser | isAdmin) || (currentUser | isStorekeeper)\"></td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let b of displayBooks\">\n                <td>\n                    <img class=\"pic-preview\" [src]=\"b?.coverUrl | safeImage\" *ngIf=\"b?.coverUrl; else noImageFound\" />\n                    <ng-template #noImageFound>\n                        <img class=\"pic-preview\" src=\"assets/doge.jpg\">\n                    </ng-template>\n                </td>\n                <td><a [routerLink]=\"'/book/'+b?.id\">{{b?.title}}</a></td>\n                <td>{{b?.authors}}</td>\n                <td>{{b?.genres}}</td>\n                <td>{{b?.count}}</td>\n                <td *ngIf=\"currentUser\">\n                    <button *ngIf=\"b?.count > 0 && !cartService.alreadyInCart(b)\" class=\"btn btn-primary\"\n                        (click)=\"addToCart(b)\">Взять</button>\n                    <span *ngIf=\"cartService.alreadyInCart(b)\">В корзине</span>\n                </td>\n                <td *ngIf=\"(currentUser | isAdmin) || (currentUser | isStorekeeper)\">\n                    <button class=\"btn btn-primary mr-1 ml-1 float-right\" (click)=\"delete(b)\">Удалить</button>\n                    <a class=\"btn btn-primary mr-1 ml-1 float-right\"\n                        [routerLink]=\"'/book/'+b?.id+'/edit'\">Редактировать</a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'forbid',\n  templateUrl: './forbid.component.html',\n  styleUrls: ['./forbid.component.css']\n})\nexport class ForbidComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h1>403</h1>\n<h3>Forbidden</h3>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.css']\n})\nexport class NotFoundComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h1>404</h1>\r\n<h3>Not found</h3>","import { Component, OnInit } from '@angular/core';\nimport { Genre } from 'src/app/api/models';\nimport { GenresService } from 'src/app/api/services';\nimport { Router, ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'genre-edit',\n  templateUrl: './genre-edit.component.html',\n  styleUrls: ['./genre-edit.component.css']\n})\nexport class GenreEditComponent implements OnInit {\n  id?: number;\n  isNew: boolean;\n  genre: Genre = {};\n\n  constructor(private genresService: GenresService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute) {\n    this.id = activatedRoute.snapshot.params['id'];\n    this.isNew = !this.id;\n  }\n\n  async ngOnInit() {\n    this.genre = !this.isNew\n      ? await this.genresService.getGenre(this.id).toPromise()\n      : {};\n  }\n\n  async save() {\n    let action: Promise<any>;\n    if (this.isNew) {\n      action = this.genresService.createGenre(this.genre).toPromise();\n    } else {\n      action = this.genresService.updateGenre(this.genre).toPromise();\n    }\n    await action.then(() => {\n      this.router.navigateByUrl('/genres');\n    });\n  }\n}\n","<h4>{{isNew ? 'Добавление' : 'Редактирование'}}</h4>\n<form #form=\"ngForm\" novalidate (ngSubmit)=\"save()\">\n    <div class=\"form-group\">\n        <label>Название</label>\n        <input class=\"form-control\" name=\"title\" [(ngModel)]=\"genre.title\" />\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary mr-1 ml-1\">Сохранить</button>\n    <button type=\"submit\" class=\"btn btn-secondary mr-1 ml-1\" routerLink=\"/genres\">Отмена</button>\n</form>","import { Component, OnInit } from '@angular/core';\nimport { Genre } from 'src/app/api/models';\nimport { GenresService } from 'src/app/api/services';\n\n@Component({\n  selector: 'genres-list',\n  templateUrl: './genres-list.component.html',\n  styleUrls: ['./genres-list.component.css']\n})\nexport class GenresListComponent implements OnInit {\n  genres: Genre[] = [];\n\n  constructor(private genresService: GenresService) { }\n\n  ngOnInit(): void {\n    this.loadGenres();\n  }\n\n  loadGenres() {\n    this.genresService.getGenres().subscribe((genres) => {\n      this.genres = genres;\n    });\n  }\n\n  delete(genre: Genre) {\n    if (confirm('Удалить жанр?')) {\n      this.genresService.deleteGenre(genre.id).subscribe(() => {\n        this.loadGenres();\n      });\n    }\n  }\n}\n","<div>\n    <h1>Список жанров</h1>\n    <a class=\"btn btn-primary\" [routerLink]=\"'/genre/create'\">Добавить</a>\n    <table class=\"table table-striped\">\n        <thead>\n            <tr>\n                <td>Название</td>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let g of genres\">\n                <td>{{g?.title}}</td>\n                <td><a class=\"btn btn-primary mr-1 ml-1\" [routerLink]=\"'/genre/'+g?.id+'/edit'\">Редактировать</a>\n                    <button class=\"btn btn-primary mr-1 ml-1\" (click)=\"delete(g)\">Удалить</button></td>\n            </tr>\n        </tbody>\n    </table>\n</div>","import { Routes, RouterModule } from '@angular/router';\r\nimport { BooksListComponent } from '../books/books-list/books-list.component';\r\nimport { NotFoundComponent } from '../exceptions/not-found/not-found.component';;\r\nimport { LoginComponent } from '../authentication/login/login.component';\r\nimport { RegistrationComponent } from '../authentication/registration/registration.component'\r\nimport { UserOrdersComponent } from '../orders/user-orders/user-orders.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { AuthGuard } from './auth.guard'\r\nimport { CartComponent } from '../orders/cart/cart.component';\r\nimport { BookEditComponent } from '../books/book-edit/book-edit.component';\r\nimport { BookPageComponent } from '../books/book-page/book-page.component';\r\nimport { Role } from '../api/models';\r\nimport { OrdersListComponent } from '../orders/orders-list/orders-list.component';\r\nimport { AuthorsListComponent } from '../authors/authors-list/authors-list.component';\r\nimport { AuthorEditComponent } from '../authors/author-edit/author-edit.component';\r\nimport { GenresListComponent } from '../genres/genres-list/genres-list.component';\r\nimport { GenreEditComponent } from '../genres/genre-edit/genre-edit.component';\r\nimport { ForbidComponent } from '../exceptions/forbid/forbid.component';\r\n\r\nconst appRoutes: Routes = [\r\n    { path: '', component: BooksListComponent },\r\n    { path: 'book/create', component: BookEditComponent, pathMatch: 'full', canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'book/:id/edit', component: BookEditComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'book/:id', component: BookPageComponent },\r\n    { path: 'auth/login', component: LoginComponent },\r\n    { path: 'auth/registration', component: RegistrationComponent },\r\n    { path: 'my/orders', component: UserOrdersComponent, canActivate: [AuthGuard] },\r\n    { path: 'my/cart', component: CartComponent, canActivate: [AuthGuard] },\r\n    { path: 'orders', redirectTo: 'orders/active', pathMatch: 'full' },\r\n    { path: 'orders/:mode', component: OrdersListComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Librarian] } },\r\n    { path: 'authors', component: AuthorsListComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'author/create', component: AuthorEditComponent, pathMatch: 'full', canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'author/:id/edit', component: AuthorEditComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'genres', component: GenresListComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'genre/create', component: GenreEditComponent, pathMatch: 'full', canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'genre/:id/edit', component: GenreEditComponent, canActivate: [AuthGuard], data: { roles: [Role.Administrator, Role.Storekeeper] } },\r\n    { path: 'error/404', component: NotFoundComponent },\r\n    { path: 'error/403', component: ForbidComponent },\r\n    { path: '**', component: NotFoundComponent }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        RouterModule.forRoot(appRoutes),\r\n    ],\r\n    exports: [\r\n        RouterModule\r\n    ],\r\n})\r\nexport class AppRoutesModule { }","import { Router, CanActivate, RouterStateSnapshot, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Injectable } from '@angular/core';\r\nimport { AuthenticationService } from '../api/services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n    constructor(private router: Router,\r\n        private authenticationService: AuthenticationService) { }\r\n\r\n    async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        const roles = route.data.roles ? route.data.roles : [];\r\n        const result = await this.authenticationService.checkAccess(roles).toPromise();\r\n        if (!result) {\r\n            this.router.navigateByUrl('/auth/login');\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { AuthenticationService } from '../../api/services';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService,\r\n        private router: Router) { }\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(req)\r\n            .pipe(catchError(err => this.handleError(err)));\r\n    }\r\n\r\n    private handleError(response: HttpErrorResponse): Observable<any> {\r\n        if ([401, 403].indexOf(response.status) !== -1) {\r\n            if (response.status === 401) {\r\n                this.authenticationService.logout();\r\n                this.router.navigateByUrl('/auth/login');\r\n            }\r\n            this.router.navigateByUrl('/error/403');\r\n            return;\r\n        }\r\n        if (response.status === 404) {\r\n            this.router.navigateByUrl('/error/404');\r\n            return;\r\n        }\r\n        let message: any = response.error || '';\r\n\r\n        if (typeof message === 'string') {\r\n            try { message = JSON.parse(message); } catch (error) { }\r\n        }\r\n\r\n        if (typeof message === 'object') {\r\n            if (message.innerException !== undefined) {\r\n                message = message.innerException.exceptionMessage;\r\n            } else {\r\n                if (message.exceptionMessage !== undefined) {\r\n                    message = message.exceptionMessage;\r\n                } else {\r\n                    if (message.errorText !== undefined) {\r\n                        message = message.errorText;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (message) {\r\n            console.log(message);\r\n        }\r\n        if (typeof message === 'string') {\r\n            alert(message);\r\n        }\r\n\r\n        return throwError(response);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthenticationService } from '../../api/services';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        const currentUser = this.authenticationService.currentUserValue;\r\n        const isLoggedIn = currentUser && currentUser.token;\r\n        const isApiUrl = request.url.startsWith('api');\r\n        if (isLoggedIn && isApiUrl) {\r\n            request = request.clone({\r\n                setHeaders: {\r\n                    Authorization: `Bearer ${currentUser.token}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as moment from 'moment';\r\n\r\n@Pipe({ name: 'formatDate' })\r\nexport class FormatDate implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(date: Date, format?: string) {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n        if (format) {\r\n            return moment(date).format(format);\r\n        }\r\n        return moment(date).format('DD.MM.YYYY');\r\n    }\r\n}","import { Pipe } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\n\r\n@Pipe({ name: 'safeImage' })\r\nexport class SafeImagePipe {\r\n    constructor(protected _sanitizer: DomSanitizer) { }\r\n\r\n    public transform(value: string): SafeResourceUrl {\r\n        return this._sanitizer.bypassSecurityTrustResourceUrl(value);\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { OrderStatus } from '../../api/models';\r\n\r\n@Pipe({ name: 'orderStatusTitle' })\r\nexport class OrderStatusTitle implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(item: OrderStatus) {\r\n        if (item === OrderStatus.Waiting) {\r\n            return 'Ожидает подтверждения';\r\n        }\r\n        if (item === OrderStatus.Accepted) {\r\n            return 'Одобрен';\r\n        }\r\n        if (item === OrderStatus.Returned) {\r\n            return 'Возврат'\r\n        }\r\n        return ''\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Role, UserResponse } from '../../api/models';\r\n\r\n@Pipe({ name: 'roleTitle' })\r\nexport class RoleTitle implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(item: Role) {\r\n        if (item == Role.Administrator) {\r\n            return 'Администратор';\r\n        }\r\n        if (item == Role.Librarian) {\r\n            return 'Библиотекарь';\r\n        }\r\n        if (item == Role.Reader) {\r\n            return 'Читатель';\r\n        }\r\n        if (item == Role.Storekeeper) {\r\n            return 'Кладовщик';\r\n        }\r\n        return 'Ты кто?'\r\n    }\r\n}\r\n\r\n@Pipe({ name: 'isAdmin' })\r\nexport class IsAdmin implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(user: UserResponse) {\r\n        return user && user.role == Role.Administrator;\r\n    }\r\n}\r\n\r\n@Pipe({ name: 'isStorekeeper' })\r\nexport class IsStorekeeper implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(user: UserResponse) {\r\n        return user && user.role == Role.Storekeeper;\r\n    }\r\n}\r\n\r\n@Pipe({ name: 'isLibrarian' })\r\nexport class IsLibrarian implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(user: UserResponse) {\r\n        return user && user.role == Role.Librarian;\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DisplayBook } from '../../api/models';\r\n\r\n@Pipe({ name: 'searchFilter' })\r\nexport class SearchFilter implements PipeTransform {\r\n    constructor() { }\r\n\r\n    transform(items: DisplayBook[], searchText: string): DisplayBook[] {\r\n        if (!items || items.length === 0) {\r\n            return [];\r\n        }\r\n        if (!searchText) {\r\n            return items;\r\n        }\r\n\r\n        searchText = searchText.toLowerCase();\r\n\r\n        return items.filter(item => item.title.toLowerCase().includes(searchText)\r\n            || item.authors.toLowerCase().includes(searchText)\r\n            || item.genres.toLowerCase().includes(searchText));\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Book } from '../../api/models/book';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class CartService {\r\n    books: Book[] = [];\r\n\r\n    constructor() { }\r\n\r\n    addToCart(book: Book) {\r\n        this.books.push(book);\r\n    }\r\n\r\n    removeFromCart(book: Book) {\r\n        const index = this.books.indexOf(book);\r\n        if (index > -1) {\r\n            this.books.splice(index, 1);\r\n        }\r\n        return this.books;\r\n    }\r\n\r\n    getItems() {\r\n        return this.books;\r\n    }\r\n\r\n    clearCart() {\r\n        this.books = [];\r\n        return this.books;\r\n    }\r\n\r\n    hasItems(): boolean {\r\n        return this.books && this.books.length > 0;\r\n    }\r\n\r\n    alreadyInCart(book: Book): boolean {\r\n        return book ? !!this.books.find(x => x.id === book.id) : true;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalService {\r\n    private modals: any[] = [];\r\n    private modalState = new Subject<any>();\r\n    modalStateObservable$ = this.modalState.asObservable();\r\n\r\n    add(modal: any) {\r\n        this.modals.push(modal);\r\n    }\r\n\r\n    remove(id: string) {\r\n        this.modals = this.modals.filter(x => x.id !== id);\r\n    }\r\n\r\n    open(id: string) {\r\n        let modal: any = this.modals.filter(x => x.id === id)[0];\r\n        this.modalState.next('open');\r\n        modal.open();\r\n    }\r\n\r\n    close(id: string) {\r\n        let modal: any = this.modals.filter(x => x.id === id)[0];\r\n        this.modalState.next('close');\r\n        modal.close();\r\n    }\r\n}","<div class=\"container\">\n    <div class=\"row\">\n        <div><span *ngIf=\"imageData.length > 1\" (click)=\"prev()\" class=\"arrow left-arrow\">←</span></div>\n        <div class=\"col-12 pr-2 pl-2\" style=\"text-align: center;\">\n            <img [src]=\"currentImage | safeImage\" class=\"img-area\" />\n        </div>\n        <div><span *ngIf=\"imageData.length > 1\" (click)=\"next()\" class=\"arrow right-arrow\">→</span></div>\n    </div>\n</div>","import { Component, OnInit, Input, HostListener, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { AttachmentsService } from 'src/app/api/services';\nimport { ModalService } from 'src/app/infrastructure/services/modal.service';\n\nexport interface ImageData {\n  blobId?: number;\n  url?: string;\n  isLoaded?: boolean;\n}\n\n@Component({\n  selector: 'carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.css']\n})\nexport class CarouselComponent implements OnInit, OnDestroy {\n  private currentIndex: number = 0;\n  private modalStateSubscription: any;\n  imageData: ImageData[] = [];\n  currentImage: string;\n\n  @Input() set dataSource(blobIds: number[]) {\n    if (blobIds) {\n      this.imageData = blobIds.map(x => <ImageData>{\n        blobId: x,\n        url: '',\n        isLoaded: false\n      });\n      this.currentIndex = 0;\n      this.loadImage();\n    }\n  }\n\n  constructor(private attachService: AttachmentsService,\n    private modalService: ModalService) { }\n\n  ngOnInit(): void {\n    this.modalStateSubscription = this.modalService.modalStateObservable$.subscribe((state) => {\n      if (state === 'open') {\n        this.currentIndex = 0;\n        this.loadImage();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.modalStateSubscription.unsubscribe();\n  }\n\n  @HostListener('document:keyup.arrowright', ['$event.target'])\n  next() {\n    this.currentIndex++;\n    this.loadImage();\n  }\n\n  @HostListener('document:keyup.arrowleft', ['$event.target'])\n  prev() {\n    this.currentIndex--;\n    this.loadImage();\n  }\n\n  checkIndex() {\n    if (this.currentIndex < 0) {\n      this.currentIndex = this.imageData.length - 1;\n    }\n    if (this.currentIndex === this.imageData.length) {\n      this.currentIndex = 0;\n    }\n  }\n\n  async loadImage() {\n    this.checkIndex();\n    const currentImageData = this.imageData[this.currentIndex];\n    if (currentImageData.isLoaded && currentImageData.url) {\n      this.currentImage = currentImageData.url;\n    }\n    else {\n      const blobId = currentImageData.blobId;\n      const url = await this.attachService.getImageUrl(blobId);\n      if (url) {\n        currentImageData.url = url;\n        currentImageData.isLoaded = true;\n        this.currentImage = currentImageData.url;\n      }\n    }\n  }\n}\n","<label class=\"btn btn-default\">\n    <input #fileUploader *ngIf=\"mode == 'multiple'\" type=\"file\" multiple (change)=\"selectFiles($event)\"\n        accept=\".png, .jpg, .jpeg\" />\n    <input #fileUploader *ngIf=\"mode == 'single'\" type=\"file\" (change)=\"selectFiles($event)\"\n        accept=\".png, .jpg, .jpeg\" />\n</label>\n\n<div class=\"btn btn-success\"\n    *ngIf=\"!(!selectedFiles || selectedFiles.length == 0 || (mode == 'single' && uploadedBlobs.length >= 1))\"\n    (click)=\"uploadFiles()\">\n    Загрузить\n</div>\n\n<div class=\"card\" *ngIf=\"uploadedBlobs && uploadedBlobs.length > 0\">\n    <div class=\"card-header\">Загруженные файлы:</div>\n    <ul class=\"list-group list-group-flush\" *ngFor=\"let file of uploadedBlobs\">\n        <li class=\"list-group-item\">{{ file.fileName }}</li>\n    </ul>\n</div>","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\nimport { AttachmentsService } from '../../api/services/attachments.service';\nimport { Attachment } from '../../api/models/attachment';\n\nexport interface UploadedBlob {\n  blobId: number;\n  fileName: string;\n}\n\n@Component({\n  selector: 'file-uploader',\n  templateUrl: './file-uploader.component.html',\n  styleUrls: ['./file-uploader.component.css']\n})\nexport class FileUploaderComponent implements OnInit {\n  selectedFiles: FileList;\n  attachments: Attachment[];\n  uploadedBlobs: UploadedBlob[] = [];\n\n  @Input()\n  mode: string = 'single';\n\n  @ViewChild('fileUploader')\n  fileUploader: ElementRef;\n\n  constructor(private attachmentsService: AttachmentsService) { }\n\n  ngOnInit(): void {\n  }\n\n  selectFiles(event) {\n    this.selectedFiles = event.target.files;\n  }\n\n  uploadFiles() {\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      this.upload(i, this.selectedFiles[i]);\n    }\n  }\n\n  async upload(idx, file) {\n    await this.attachmentsService.uploadBlob(file).toPromise().then((uploadedId) => {\n      this.uploadedBlobs.push({\n        blobId: uploadedId,\n        fileName: file.name\n      });\n      this.fileUploader.nativeElement.value = '';\n    }).catch(() => {\n      alert(`Файл \"${file.name}\" не загружен`);\n    });\n  }\n}\n","import { Component, OnInit, ElementRef, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { ModalService } from '../../infrastructure/services/modal.service';\n\n@Component({\n  selector: 'modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.css']\n})\nexport class ModalComponent implements OnInit, OnDestroy {\n  private element: any;\n\n  @Input()\n  id: string;\n\n  @Output()\n  onOpen: EventEmitter<any> = new EventEmitter();\n\n  @Output()\n  onClose: EventEmitter<any> = new EventEmitter();\n\n  constructor(private modalService: ModalService,\n    private elRef: ElementRef) {\n    this.element = elRef.nativeElement;\n  }\n\n  ngOnInit() {\n    let modal = this;\n    if (!this.id) {\n      return;\n    }\n\n    document.body.appendChild(this.element);\n    this.element.addEventListener('click', function (e: any) {\n      if (e.target.className === 'cal-modal') {\n        modal.close();\n      }\n    });\n    this.modalService.add(this);\n  }\n\n  ngOnDestroy() {\n    this.modalService.remove(this.id);\n    this.element.remove();\n    document.body.classList.remove('cal-open');\n  }\n\n  open() {\n    this.element.style.display = 'block';\n    document.body.classList.add('cal-open');\n    if (this.onOpen) {\n      this.onOpen.emit();\n    }\n  }\n\n  close() {\n    this.element.style.display = 'none';\n    document.body.classList.remove('cal-open');\n    if (this.onClose) {\n      this.onClose.emit();\n    }\n  }\n}\n","<div class=\"cal-modal\">\n    <div class=\"cal-modal-body\">\n        <ng-content></ng-content>\n    </div>\n</div>\n<div class=\"cal-modal-background\"></div>","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'pagination',\n  templateUrl: './pagination.component.html',\n  styleUrls: ['./pagination.component.css']\n})\nexport class PaginationComponent implements OnInit {\n  pagesArray: number[] = [];\n  currentPage: number = 1;\n\n  @Input()\n  pageSize: number = 10;\n\n  @Input() set itemsCount(items: number) {\n    if (items) {\n      const totalPages = Math.ceil(items / this.pageSize);\n      this.pagesArray = new Array(totalPages).fill(1);\n    }\n    if (items === 0) {\n      this.pagesArray = [1];\n    }\n  }\n\n  @Output() \n  goToPage = new EventEmitter<number>();\n\n  constructor() {\n  }\n\n  ngOnInit() { }\n\n  setPage(pageNumber: number): void {\n    if (pageNumber === this.currentPage) {\n      return;\n    }\n    this.currentPage = pageNumber;\n    this.goToPage.emit(pageNumber);\n  }\n}\n","<ul class=\"pagination\">\n    <li class=\"page-item\" *ngIf=\"currentPage !== 1\" (click)=\"setPage(currentPage - 1)\">\n        <a class=\"page-link\">←</a>\n    </li>\n    <li class=\"page-item\" *ngFor=\"let page of pagesArray; let index = index\"\n        [ngClass]=\"{'active': currentPage === index + 1 }\" (click)=\"setPage(index + 1)\">\n        <a class=\"page-link\">{{ index + 1 }}</a>\n    </li>\n    <li class=\"page-item\" *ngIf=\"currentPage !== pagesArray.length\" (click)=\"setPage(currentPage + 1)\">\n        <a class=\"page-link\">→</a>\n    </li>\n</ul>","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'tagbox',\n  templateUrl: './tagbox.component.html',\n  styleUrls: ['./tagbox.component.css']\n})\nexport class TagboxComponent implements OnInit {\n  selectedItems: any[] = [];\n  items: any[] = [];\n\n  @Input() set dataSource(data) {\n    if (data) {\n      this.items = data;\n      if (this.preSelected && this.preSelected.length > 0) {\n        this.selectedItems = this.items.filter(x => this.preSelected.some(i => i[this.preSelectedKeyField] == x[this.keyField]));\n        this.items = this.items.filter(i => !this.selectedItems.includes(i));\n      }\n      this.sort();\n    }\n  }\n\n  @Input()\n  keyField: string = 'id';\n\n  @Input()\n  displayField: string = 'title';\n\n  @Input()\n  preSelected: any[];\n\n  @Input()\n  preSelectedKeyField: string = 'id';\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  getSelectedItems(): any[] {\n    return this.selectedItems;\n  }\n\n  addItem(itemKey) {\n    const selectedItem = this.items.filter(x => x[this.keyField] == itemKey)[0];\n    this.items = this.items.filter(x => x[this.keyField] != itemKey);\n    this.selectedItems.push(selectedItem);\n    this.sort();\n  }\n\n  removeItem(itemKey) {\n    const selectedItem = this.selectedItems.filter(x => x[this.keyField] == itemKey)[0];\n    this.selectedItems = this.selectedItems.filter(x => x[this.keyField] != itemKey);\n    this.items.push(selectedItem);\n    this.sort();\n  }\n\n  onSelectItem(e, key) {\n    if (!key || key == -1) return;\n    this.addItem(key);\n  }\n\n  sort() {\n    this.items.sort((a, b) => (a[this.displayField] > b[this.displayField]) ? 1 : -1);\n  }\n}\n","<div id=\"selectedItems\" class=\"mb-2\" style=\"display: flex;\">\n    <div *ngFor=\"let i of selectedItems\">\n        <div class=\"mr-2\">\n            <span>{{i[displayField]}}</span>\n            <span (click)=\"removeItem(i[keyField])\" class=\"badge badge-secondary\"> X </span>\n        </div>\n    </div>\n</div>\n<select class=\"form-control\" id=\"itemsToSelect\" #mySelect (change)=\"onSelectItem($event, mySelect.value)\">\n    <option [value]=\"-1\">---</option>\n    <option *ngFor=\"let i of items\" [value]=\"i[keyField]\">\n        {{i[displayField]}}\n    </option>\n</select>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from 'src/app/api/services';\nimport { UserResponse } from 'src/app/api/models';\n\n@Component({\n  selector: 'user-menu',\n  templateUrl: './user-menu.component.html',\n  styleUrls: ['./user-menu.component.css']\n})\nexport class UserMenuComponent implements OnInit {\n\n  public get currentUser(): UserResponse {\n    return this.authService && this.authService.currentUserValue ? this.authService.currentUserValue : null;\n  }\n\n  constructor(private authService: AuthenticationService,\n    private router: Router) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  logout() {\n    this.authService.logout();\n    this.router.navigateByUrl('/');\n  }\n}\n","<div>\n    <div class=\"dropdown\">\n        <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\"\n            aria-haspopup=\"true\" aria-expanded=\"false\">\n            {{ (!currentUser ? 'Вход/Регистрация' : currentUser.login+' ('+(currentUser.role | roleTitle)+')') }}\n        </button>\n        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n            <a class=\"dropdown-item\" routerLink=\"/auth/login\" *ngIf=\"!currentUser\">Вход</a>\n            <a class=\"dropdown-item\" routerLink=\"/auth/registration\" *ngIf=\"!currentUser\">Регистрация</a>\n            <a class=\"dropdown-item\" routerLink=\"/my/cart\" *ngIf=\"currentUser\">Мои книги на оформление</a>\n            <a class=\"dropdown-item\" routerLink=\"/my/orders\" *ngIf=\"currentUser\">Мои книги</a>\n            <span class=\"dropdown-item\" *ngIf=\"currentUser\" (click)=\"logout()\" style=\"cursor: pointer;\">Выход</span>\n            <div *ngIf=\"(currentUser | isAdmin) || (currentUser | isLibrarian)\">\n                <span class=\"dropdown-item\">---Задачи библиотекаря---</span>\n                <a class=\"dropdown-item\" routerLink=\"/orders/active\">Выданные книги</a>\n                <a class=\"dropdown-item\" routerLink=\"/orders/give\">Заказы на выдачу</a>\n                <a class=\"dropdown-item\" routerLink=\"/orders/take\">Заказы на возврат</a>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { CartService } from 'src/app/infrastructure/services/cart.service';\nimport { Book, Order } from 'src/app/api/models';\nimport { OrdersService, AuthenticationService } from 'src/app/api/services';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  books: Book[];\n\n  constructor(private cartService: CartService,\n    private ordersService: OrdersService,\n    private authService: AuthenticationService,\n    private router: Router) { }\n\n  ngOnInit(): void {\n    this.books = this.cartService.getItems();\n  }\n\n  removeFromCart(book: Book) {\n    this.books = this.cartService.removeFromCart(book);\n  }\n\n  placeOrder() {\n    const userId = this.authService.currentUserValue.id;\n    const orders: Order[] = [];\n    this.books.map((book) => {\n      orders.push({\n        bookId: book.id,\n        userId: userId\n      })\n    });\n    this.ordersService.placeOrders(orders).subscribe(() => {\n      this.books = this.cartService.clearCart();\n      this.router.navigateByUrl('/my/orders')\n    });\n  }\n}\n","<div class=\"container body-content\">\n    <h1>Книги на оформление</h1>\n    <div *ngIf=\"books && books.length > 0\">\n        <table class=\" table table-striped\">\n            <thead>\n                <tr>\n                    <td>Название</td>\n                    <td></td>\n                </tr>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let b of books\">\n                    <td>{{b?.title}}</td>\n                    <td><button class=\"btn btn-primary\" (click)=\"removeFromCart(b)\">Убрать</button></td>\n                </tr>\n            </tbody>\n        </table>\n        <button class=\"btn btn-primary\" (click)=\"placeOrder()\">Оформить</button>\n    </div>\n    <div *ngIf=\"!books || books.length === 0\">Пусто!</div>\n</div>","<div class=\"container body-content\">\n    <h1>Заказы</h1>\n    <table class=\"table table-striped\">\n        <thead>\n            <tr>\n                <td>Пользователь</td>\n                <td>Название</td>\n                <td>Дата получения</td>\n                <td>Дата возврата</td>\n                <td>Статус</td>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let order of orders\">\n                <td>{{order?.user?.lastName}} {{order?.user?.firstName}}</td>\n                <td>{{order?.book?.title}}</td>\n                <td>{{order?.dateFrom | formatDate}}</td>\n                <td>{{order?.dateTo | formatDate}}</td>\n                <td>{{order?.status | orderStatusTitle}}</td>\n                <td><button *ngIf=\"order && actionName\" class=\"btn btn-primary\"\n                        (click)=\"doAction(order)\">{{actionName}}</button></td>\n            </tr>\n        </tbody>\n    </table>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { OrdersService } from 'src/app/api/services';\nimport { Order, OrderStatus } from 'src/app/api/models';\nimport { ActivatedRoute, Params } from '@angular/router';\n\nexport enum OrderAction {\n  None = 1,\n  CreateOrder = 2,\n  CloseOrder = 3,\n  ExtendOrder = 4\n}\n\n@Component({\n  selector: 'orders-list',\n  templateUrl: './orders-list.component.html',\n  styleUrls: ['./orders-list.component.css']\n})\nexport class OrdersListComponent implements OnInit {\n  orders: Order[] = [];\n  mode: string;\n  action: OrderAction = OrderAction.None;\n  actionName: string = '';\n\n  constructor(private ordersService: OrdersService,\n    private activatedRoute: ActivatedRoute) {\n  }\n\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe((routeParams: Params) => {\n      this.mode = routeParams['mode'];\n      if (this.mode === 'give') {\n        this.actionName = 'Выдать';\n        this.action = OrderAction.CreateOrder;\n      } else if (this.mode === 'take') {\n        this.actionName = 'Принять';\n        this.action = OrderAction.CloseOrder;\n      } else if (this.mode === 'active') {\n        this.actionName = 'Продлить';\n        this.action = OrderAction.ExtendOrder;\n      }\n      this.getOrders();\n    });\n  }\n\n  getOrders() {\n    this.ordersService.getList().subscribe((orders) => {\n      switch (this.action) {\n        case OrderAction.CloseOrder: this.orders = orders.filter(x => x.status && x.status === OrderStatus.Returned); break;\n        case OrderAction.CreateOrder: this.orders = orders.filter(x => x.status && x.status === OrderStatus.Waiting); break;\n        case OrderAction.ExtendOrder: this.orders = orders.filter(x => x.status && x.status === OrderStatus.Accepted); break;\n        case OrderAction.None:\n        default:\n          this.orders = orders; break;\n      }\n    });\n  }\n\n  async doAction(order: Order) {\n    let action: Promise<any>;\n    if (this.action === OrderAction.CreateOrder) {\n      action = this.ordersService.addOrders([order.id]).toPromise();\n    } else if (this.action === OrderAction.CloseOrder) {\n      action = this.ordersService.closeOrders([order.id]).toPromise();\n    } else if (this.action === OrderAction.ExtendOrder) {\n      action = this.ordersService.extendOrdersDate([order.id]).toPromise();\n    }\n    if (this.action !== OrderAction.None) {\n      action.then(() => {\n        this.getOrders();\n      });\n    }\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { OrdersService, AuthenticationService } from 'src/app/api/services';\nimport { Order } from 'src/app/api/models';\n\n@Component({\n  selector: 'user-orders',\n  templateUrl: './user-orders.component.html',\n  styleUrls: ['./user-orders.component.css']\n})\nexport class UserOrdersComponent implements OnInit {\n  orders: Order[] = [];\n\n  constructor(private ordersService: OrdersService, private authenticationService: AuthenticationService) { }\n\n  ngOnInit(): void {\n    this.getOrders();\n  }\n\n  getOrders() {\n    const userId = this.authenticationService.currentUserValue.id;\n    this.ordersService.getUserOrders(userId).subscribe((orders) => {\n      this.orders = orders;\n    });\n  }\n\n  returnOrder(order: Order) {\n    const userId = this.authenticationService.currentUserValue.id;\n    this.ordersService.returnOrders(userId, [order.id]).subscribe(() => {\n      this.getOrders();\n    });\n  }\n}\n","<div class=\"container body-content\">\n    <h1>Мои заказы</h1>\n    <table class=\"table table-striped\">\n        <thead>\n            <tr>\n                <td>Название</td>\n                <td>Дата получения</td>\n                <td>Дата возврата</td>\n                <td>Статус</td>\n                <td></td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let order of orders\">\n                <td>{{order?.book?.title}}</td>\n                <td>{{order?.dateFrom | formatDate}}</td>\n                <td>{{order?.dateTo | formatDate}}</td>\n                <td>{{order?.status | orderStatusTitle}}</td>\n                <td><button *ngIf=\"order?.status === 2\" class=\"btn btn-primary\"\n                        (click)=\"returnOrder(order)\">Вернуть</button></td>\n            </tr>\n        </tbody>\n    </table>\n</div>","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { AppModule } from './app/app.module';\r\n\r\nenableProdMode();\r\nconst platform = platformBrowserDynamic();\r\nplatform.bootstrapModule(AppModule);"]}